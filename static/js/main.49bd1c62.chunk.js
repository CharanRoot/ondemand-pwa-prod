(this.webpackJsonpondemand_pwa=this.webpackJsonpondemand_pwa||[]).push([[0],{100:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var a=n(123),r=n(0),i=n.n(r),o=n(225),c=n(9),s=n(835),l=n(223),u=n(73),m=n.n(u),d=n(79),p=Object(c.a)((function(e){return Object(o.a)({root:{margin:0,padding:e.spacing(2),color:"#fff",backgroundColor:"#3f51b5"},title:{color:"#fff",backgroundColor:"#3f51b5"},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}})}))((function(e){var t=e.children,n=e.classes,r=e.onClose,o=Object(a.a)(e,["children","classes","onClose"]);return i.a.createElement(s.a,Object.assign({disableTypography:!0,className:n.root},o),i.a.createElement(d.a,{className:n.title,variant:"h6"},t),r?i.a.createElement(l.a,{"aria-label":"close",className:n.closeButton,onClick:r},i.a.createElement(m.a,null)):null)}))},135:function(e,t,n){"use strict";t.a={aws_project_region:"us-east-1",aws_cognito_identity_pool_id:"us-east-1:92478dcd-459f-4cb7-9f48-ba8bfa2a208d",aws_cognito_region:"us-east-1",aws_user_pools_id:"us-east-1_r7Sskomxl",aws_user_pools_web_client_id:"hk1odcmcfrak3dps4m6vpe9pj",oauth:{},aws_appsync_graphqlEndpoint:"https://nftbh5tp35helcndk7y3fyfpnu.appsync-api.us-east-1.amazonaws.com/graphql",aws_appsync_region:"us-east-1",aws_appsync_authenticationType:"AMAZON_COGNITO_USER_POOLS",aws_cloud_logic_custom:[{name:"stripeapi",endpoint:"https://aywl9m8ec4.execute-api.us-east-1.amazonaws.com/prod",region:"us-east-1"},{name:"chatreplyapi",endpoint:"https://qdw6378o3m.execute-api.us-east-1.amazonaws.com/prod",region:"us-east-1"}],aws_user_files_s3_bucket:"ondemandpwa44f797dc09864f198fac6529c16661ab92428-prod",aws_user_files_s3_bucket_region:"us-east-1",aws_mobile_analytics_app_id:"e3097b4665d34a0f880712586626fddd",aws_mobile_analytics_app_region:"us-east-1"}},147:function(e,t,n){"use strict";n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return h})),n.d(t,"c",(function(){return y}));var a=n(12),r=n.n(a),i=n(16),o=n(135),c=n(85),s=n(306),l=n(10),u=o.a.aws_user_files_s3_bucket_region,m=o.a.aws_user_files_s3_bucket;function d(e){return p.apply(this,arguments)}function p(){return(p=Object(i.a)(r.a.mark((function e(t){var n,a,i,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=14;break}return n=t.name,a=t.type,i="".concat(Object(c.uuid)()).concat(n),o={bucket:m,key:i,region:u},e.prev=4,e.next=7,l.g.put(i,t,{contentType:a});case 7:return console.log("successfully stored user data!"),e.abrupt("return",o);case 11:e.prev=11,e.t0=e.catch(4),console.log("error: ",e.t0);case 14:case"end":return e.stop()}}),e,null,[[4,11]])})))).apply(this,arguments)}function f(e){return b.apply(this,arguments)}function b(){return(b=Object(i.a)(r.a.mark((function e(t){var n,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("getImages!",t),n=t.map(g),e.next=4,Promise.all(n);case 4:return a=e.sent,console.log("getImages!",a),e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e){return v.apply(this,arguments)}function v(){return(v=Object(i.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.g.get(t.key);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e){return E.apply(this,arguments)}function E(){return(E=Object(i.a)(r.a.mark((function e(t){var n,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=l.d.getItem(t.key))){e.next=4;break}return console.log("Retrieved cached url for ".concat(t.key,": ").concat(n)),e.abrupt("return",n[0]);case 4:return e.next=6,f([t]);case 6:return n=e.sent,console.log("Retrieved fetched url for ".concat(t.key,": ").concat(n)),a=new Date((new Date).getTime()+84e4).getTime(),l.d.setItem(t.key,n,{expires:a}),e.abrupt("return",n[0]);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e){return O.apply(this,arguments)}function O(){return(O=Object(i.a)(r.a.mark((function e(t){var n,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.map(k),e.next=3,Promise.all(n);case 3:return a=e.sent,console.log("Done!",a),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e){return j.apply(this,arguments)}function j(){return(j=Object(i.a)(r.a.mark((function e(t){var n,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("originalFile instanceof Blob",t instanceof Blob),console.log("originalFile size ".concat(t.size/1024/1024," MB")),n={maxSizeMB:1,maxWidthOrHeight:1920,useWebWorker:!1},e.prev=3,e.next=6,Object(s.a)(t,n);case 6:return a=e.sent,console.log("compressedFile instanceof Blob",a instanceof Blob),console.log("compressedFile size ".concat(a.size/1024/1024," MB")),e.next=11,d(a);case 11:return e.abrupt("return",e.sent);case 14:e.prev=14,e.t0=e.catch(3),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[3,14]])})))).apply(this,arguments)}},148:function(e,t,n){"use strict";var a=n(12),r=n.n(a),i=n(16),o=n(6),c=n(0),s=n.n(c),l=n(836),u=n(21),m=n(126),d=n(34),p=n(318),f=n(225),b=(n(195),Object(p.a)((function(e){return Object(f.a)({container:{padding:15}})})));t.a=function(e){var t=e.inputimages,n=e.openPop,a=e.closeAlert,c=s.a.useState("paper"),p=Object(o.a)(c,2),f=p[0],g=p[1],v=(s.a.useContext(u.a),s.a.useState([])),h=Object(o.a)(v,2),E=h[0],y=h[1],O=b();s.a.useEffect((function(){(function(){var e=Object(i.a)(r.a.mark((function e(){var n,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=JSON.parse(t),e.next=3,Object(d.getImages)(n);case 3:a=e.sent,console.log("images",a),y(a);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),s.a.useEffect((function(){n&&g("paper")}),[n]);var k=function(){a(!1)},j=s.a.useRef(null);return s.a.useEffect((function(){if(n){var e=j.current;null!==e&&e.focus()}}),[n]),s.a.createElement(l.a,{open:n,fullScreen:!0,onClose:k,scroll:f,"aria-labelledby":"scroll-dialog-title","aria-describedby":"scroll-dialog-description"},s.a.createElement(d.DialogTitle,{id:"scroll-dialog-title",onClose:k},"Ticket Details"),s.a.createElement("div",{className:O.container},s.a.createElement(m.b,null,s.a.createElement("ul",{className:"images"},E.map((function(e,t){return s.a.createElement("li",{key:t},s.a.createElement(m.a,{src:e,alt:"mountains"}))}))))))}},192:function(e,t){},195:function(e,t,n){},21:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var a=n(12),r=n.n(a),i=n(16),o=n(6),c=n(0),s=n.n(c),l=n(10),u=n(86),m=s.a.createContext({user:null,provider:"",name:"",email:"",phoneNumber:"",userId:"",accountType:"",isAuthenticated:function(){return!1},signUp:function(){return new Promise((function(e){return e(0)}))},confirmSignUp:function(){return new Promise((function(e){return e(0)}))},resendSignUp:function(){return new Promise((function(e){return e(0)}))},signIn:function(){return new Promise((function(e){return e(0)}))},signOut:function(){return new Promise((function(e){return e(0)}))},resetPassword:function(){return new Promise((function(e){return e(0)}))},confirmResetPassword:function(){return new Promise((function(e){return e(0)}))}});t.b=function(e){var t=e.children,n=Object(c.useState)(null),a=Object(o.a)(n,2),d=a[0],p=a[1],f=Object(c.useState)(""),b=Object(o.a)(f,2),g=b[0],v=b[1],h=Object(c.useState)(""),E=Object(o.a)(h,2),y=E[0],O=E[1],k=Object(c.useState)(""),j=Object(o.a)(k,2),w=j[0],C=j[1],x=Object(c.useState)(""),S=Object(o.a)(x,2),N=S[0],I=S[1],T=Object(c.useState)(""),_=Object(o.a)(T,2),U=_[0],P=_[1],A=Object(c.useState)(""),D=Object(o.a)(A,2),R=D[0],B=D[1],L=Object(u.g)();Object(c.useEffect)((function(){console.log("checking for authenticated user..."),J()}),[]),Object(c.useEffect)((function(){l.e.listen("auth",(function(e){switch(e.payload.event){case"signIn":J(),L.push("/");break;case"signOut":p(null),v(""),localStorage.setItem("provider",""),O(""),C(""),I(""),P(""),L.push("/")}}))}),[]);var J=function(){l.c.currentAuthenticatedUser().then((function(e){console.log("current",e),p(e);var t=e.email||e.attributes.email||"",n=e.name||e.attributes.email||"",a=localStorage.getItem("provider")||"";P(e.username),O(t),C(n),v(a),B(e.attributes["custom:account_type"]),console.log("provider:",R,e.attributes,e.attributes["custom:account_type"])})).catch((function(e){console.log("no current authenticated user")}))},$=Object(c.useCallback)((function(e,t,n,a){return new Promise(function(){var o=Object(i.a)(r.a.mark((function i(o,c){var s,u,m;return r.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,l.c.signUp({username:"+1"+n,password:t,attributes:{email:e,phone_number:"+1"+n,"custom:account_type":a}});case 3:s=r.sent,u=s.user,console.log(u),o(u),r.next=21;break;case 9:r.prev=9,r.t0=r.catch(0),console.log(r.t0),m="An internal error occurred.",r.t1=r.t0.code,r.next="UserNotConfirmedException"===r.t1||"PasswordResetRequiredException"===r.t1||"NotAuthorizedException"===r.t1||"UserNotFoundException"===r.t1||"UsernameExistsException"===r.t1?16:18;break;case 16:return m=r.t0.message,r.abrupt("break",20);case 18:return console.log(r.t0),r.abrupt("break",20);case 20:c(m);case 21:case"end":return r.stop()}}),i,null,[[0,9]])})));return function(e,t){return o.apply(this,arguments)}}())}),[]),F=Object(c.useCallback)((function(e,t){return console.log("confirm sign up",e,t),new Promise(function(){var n=Object(i.a)(r.a.mark((function n(a,i){var o,c,s;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,l.c.confirmSignUp("+1"+e,t);case 3:o=n.sent,c=o.user,a(c),n.next=12;break;case 8:n.prev=8,n.t0=n.catch(0),s=n.t0.message||"An internal error occurred.",i(s);case 12:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e,t){return n.apply(this,arguments)}}())}),[]),q=Object(c.useCallback)((function(e,t){return console.log("sign in",e,t),new Promise(function(){var n=Object(i.a)(r.a.mark((function n(a,i){var o,c;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,l.c.signIn({username:"+1"+e,password:t});case 3:o=n.sent,localStorage.setItem("provider","email"),console.log(o),a(o),n.next=13;break;case 9:n.prev=9,n.t0=n.catch(0),c=n.t0.message||"An internal error occurred.",i(c);case 13:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e,t){return n.apply(this,arguments)}}())}),[]),W=Object(c.useCallback)((function(e){return console.log("resend sign up",e),new Promise((function(t,n){l.c.resendSignUp("+1"+e).then((function(e){t(e)})).catch((function(e){var t=e.message||"An internal error occurred.";n(t)}))}))}),[]),M=Object(c.useCallback)((function(){return console.log("sign out"),new Promise((function(e,t){l.c.signOut().then((function(t){e(t)})).catch((function(e){var n=e.message||"An internal error occurred.";t(n)}))}))}),[]),z=Object(c.useCallback)((function(e){return console.log("reset password",e),new Promise((function(t,n){l.c.forgotPassword("+1"+e).then((function(e){t(e)})).catch((function(e){var t=e.message||"An internal error occurred.";n(t)}))}))}),[]),H=Object(c.useCallback)((function(e,t,n){return console.log("confirm reset password",e,n,t),new Promise((function(a,r){l.c.forgotPasswordSubmit("+1"+e,n,t).then((function(e){return a(e)})).catch((function(e){var t=e.message||"An internal error occurred.";r(t)}))}))}),[]);return s.a.createElement(m.Provider,{value:{user:d,provider:g,name:w,email:y,phoneNumber:N,accountType:R,userId:U,isAuthenticated:function(){return null!==d},signUp:$,confirmSignUp:F,resendSignUp:W,signIn:q,signOut:M,resetPassword:z,confirmResetPassword:H}},t)}},279:function(e,t){},280:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(0),r=n.n(a),i=n(320),o=n(837),c=n(318),s=n(225),l=Object(c.a)((function(e){return Object(s.a)({backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}})})),u=function(e){var t=l();return r.a.createElement("div",null,r.a.createElement(i.a,{className:t.backdrop,open:e.open,onClick:function(){}},r.a.createElement(o.a,{color:"inherit"})))}},281:function(e,t,n){"use strict"},286:function(e,t,n){},30:function(e,t,n){e.exports=n.p+"static/media/logo.8ec26c07.png"},34:function(e,t,n){"use strict";var a=n(100);n.d(t,"DialogTitle",(function(){return a.a}));var r=n(147);n.d(t,"getCacheImage",(function(){return r.a})),n.d(t,"getImages",(function(){return r.b})),n.d(t,"handleImageUpload",(function(){return r.c}));n(148);var i=n(279);n.o(i,"TVBackdrop")&&n.d(t,"TVBackdrop",(function(){return i.TVBackdrop}));var o=n(280);n.d(t,"TVBackdrop",(function(){return o.a}));n(281)},349:function(e,t,n){e.exports=n(826)},752:function(e,t,n){},819:function(e,t,n){},826:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(26),o=n.n(i),c=n(44),s=n(21),l=(n(752),n(123)),u=n(86),m=n(6),d=n(902),p=n(885),f=n(882),b=n(316),g=n(883),v={typography:{fontFamily:["Roboto","sans-serif"].join(",")}},h=Object(b.a)(v),E=function(e){var t=e.children;return r.a.createElement(f.a,{theme:h},r.a.createElement(g.a,null,t))},y=n(79),O=n(886),k=n(318),j=n(225),w=n(61);function C(){return r.a.createElement(y.a,{variant:"body2",color:"textSecondary",align:"center"},"Travtail \u2122 ",r.a.createElement(p.a,{color:"inherit",href:"https://travtail.app/"}),(new Date).getFullYear())}var x=Object(k.a)((function(e){return Object(j.a)({footer:{padding:e.spacing(2),marginTop:"auto",backgroundColor:"#f6f6f6"}})})),S=function(){var e=x(Object(w.a)());return r.a.createElement("footer",{className:e.footer},r.a.createElement(O.a,{maxWidth:"sm"},r.a.createElement(C,null)))},N=n(12),I=n.n(N),T=n(16),_=n(223),U=n(889),P=n(890),A=n(301),D=n.n(A),R=n(300),B=n.n(R),L=n(297),J=n.n(L),$=n(159),F=n.n($),q=n(299),W=n.n(q),M=n(10),z=n(24),H=n(25),Y=n.n(H);function V(){var e=Object(z.a)(["\n  query GetEmployee($id: ID!) {\n    getEmployee(id: $id) {\n      id\n      username\n      registered\n      avatar\n      employeeConversations {\n        items {\n          id\n          name\n          status\n          conversation {\n            id\n            name\n            createdAt\n            associated {\n              items {\n                convoLinkUserId\n                user {\n                  id\n                  username\n                  avatar\n                }\n                convoLinkEmployeeId\n                employee {\n                  id\n                  username\n                  avatar\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n"]);return V=function(){return e},e}function G(){var e=Object(z.a)(["\n  query GetUser($id: ID!) {\n    getUser(id: $id) {\n      id\n      username\n      registered\n      avatar\n      userConversations {\n        items {\n          id\n          name\n          status\n          conversation {\n            id\n            name\n            createdAt\n            associated {\n              items {\n                convoLinkUserId\n                user {\n                  id\n                  username\n                  avatar\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n"]);return G=function(){return e},e}function K(){var e=Object(z.a)(["\nquery messageByReceiver($receiver: String!, $isSent: String! ) {\n  messageByReceiver(receiver: $receiver,  isSent: {\n    eq: $isSent\n  }) \n   {\n      items {\n        id\n        isSent\n        owner\n        conversation {\n          id\n        }\n      }\n    nextToken\n   }\n}\n"]);return K=function(){return e},e}function Z(){var e=Object(z.a)(['\nquery getOpenTicket($status: String!, $ticketFilter: String! ) {\n  jobsByStatus(status: $status,  ticketFilterTime: {\n    beginsWith: { ticketFilter:  $ticketFilter, time:"2020" }\n  }) \n   {\n      items {\n        id\n        category\n        content\n        time\n        destination\n        price\n        title\n        county\n        source\n        status\n        ownerUploadImages\n        employeeUploadImages\n        execptedPrice\n        ticketType\n        ticketEmployeeId\n        ticketUserId\n        category\n        ticketEmployeeInfo\n        ticketFilter\n      }\n    nextToken\n   }\n}\n']);return Z=function(){return e},e}function X(){var e=Object(z.a)(["\n  query SearchConvoLinks(\n    $filter: SearchableConvoLinkFilterInput\n    $sort: SearchableConvoLinkSortInput\n    $limit: Int\n    $nextToken: Int\n  ) {\n    searchConvoLinks(\n      filter: $filter\n      sort: $sort\n      limit: $limit\n      nextToken: $nextToken\n    ) {\n      items {\n        id\n        name\n        status\n        convoLinkUserId\n        user {\n          id\n          username\n          registered\n        }\n        conversation {\n          id\n          name\n          createdAt\n        }\n      }\n      nextToken\n    }\n  }\n"]);return X=function(){return e},e}function Q(){var e=Object(z.a)(["\n  query SearchUsers(\n    $filter: SearchableUserFilterInput\n    $sort: SearchableUserSortInput\n    $limit: Int\n    $nextToken: Int\n  ) {\n    searchUsers(\n      filter: $filter\n      sort: $sort\n      limit: $limit\n      nextToken: $nextToken\n    ) {\n      items {\n        id\n        username\n        registered\n        userConversations {\n          items {\n            id\n            name\n            status\n            convoLinkUserId\n          }\n          nextToken\n        }\n      }\n      nextToken\n    }\n  }\n"]);return Q=function(){return e},e}function ee(){var e=Object(z.a)(["\n  query SearchMessages(\n    $filter: SearchableMessageFilterInput\n    $sort: SearchableMessageSortInput\n    $limit: Int\n    $nextToken: Int\n  ) {\n    searchMessages(\n      filter: $filter\n      sort: $sort\n      limit: $limit\n      nextToken: $nextToken\n    ) {\n      items {\n        id\n        content\n        createdAt\n        owner\n        chatbot\n        isSent\n        file {\n          bucket\n          region\n          key\n        }\n        messageConversationId\n        conversation {\n          id\n          name\n          createdAt\n        }\n      }\n      nextToken\n    }\n  }\n"]);return ee=function(){return e},e}function te(){var e=Object(z.a)(["\n  query GetConvo($id: ID!, $nextToken: String) {\n    getConvo(id: $id) {\n      id\n      messages(sortDirection: DESC, limit: 20, nextToken: $nextToken) {\n        nextToken\n        items {\n          id\n          content\n          createdAt\n          owner\n          chatbot\n          isSent\n          file\n          messageConversationId\n        }\n      }\n    }\n  }\n"]);return te=function(){return e},e}function ne(){var e=Object(z.a)(["\n  query GetFullEmployee($id: ID!) {\n    getEmployee(id: $id) {\n      id\n      username\n      registered\n      active\n      address\n      zipcode\n      latitudes\n      longitudes\n      cardInfo\n    }\n  }\n"]);return ne=function(){return e},e}function ae(){var e=Object(z.a)(["\n  query GetUser($id: ID!) {\n    getUser(id: $id) {\n      id\n      username\n      registered\n      active\n      address\n      zipcode\n      latitudes\n      longitudes\n      cardInfo\n      usertype\n      rating\n      reviews {\n        items {\n          id\n          userId\n          review\n          createdAt\n        }\n      }\n    }\n  }\n"]);return ae=function(){return e},e}function re(){var e=Object(z.a)(["\n  query GetUser($id: ID!) {\n    getUser(id: $id) {\n      id\n      username\n      skills\n      rating\n      reviews {\n        items {\n          id\n          userId\n          review\n          createdAt\n        }\n      }\n    }\n  }\n"]);return re=function(){return e},e}function ie(){var e=Object(z.a)(["\n  query GetUser($id: ID!) {\n    getUser(id: $id) {\n      id\n      username\n      county\n      avatar\n      address\n      cardInfo\n      active\n      skills\n      rating\n      tickets {\n        items {\n          ticket{\n          id\n          content\n          time\n          destination\n          price\n          title\n          county\n          source\n          status\n          ticketEmployeeId\n          ticketEmployeeInfo\n          ticketUserId\n          ticketType\n          ticketFilter\n          empClosedComment\n          userClosedComment\n          ownerUploadImages\n          employeeUploadImages\n          execptedPrice\n          category\n          users {\n            items {\n              user{\n              id\n              }\n            }\n          }\n        }\n        }\n      }\n    }\n  }\n"]);return ie=function(){return e},e}var oe=Y()(ie()),ce=Y()(re()),se=Y()(ae()),le=(Y()(ne()),Y()(te())),ue=(Y()(ee()),Y()(Q()),Y()(X()),Y()(Z())),me=Y()(K()),de=Y()(G()),pe=(Y()(V()),n(888));function fe(){var e=Object(z.a)(["\nmutation createReview($input: CreateReviewInput!) {\n  createReview(input: $input) {\n      id\n      userId\n      review\n      createdAt\n    }\n  }\n"]);return fe=function(){return e},e}function be(){var e=Object(z.a)(["\n  mutation deleteUserTicket($id: ID!) {\n    deleteUserTicket(input: { id: $id }) {\n      id\n    }\n  }\n"]);return be=function(){return e},e}function ge(){var e=Object(z.a)(['\n  mutation updateMessage($id: ID!) {\n    updateMessage(input: { id: $id, isSent: "true" }) {\n      id\n      content\n      createdAt\n      owner\n      chatbot\n      isSent\n    }\n  }\n']);return ge=function(){return e},e}function ve(){var e=Object(z.a)(['\n  mutation updateConvoLink($id: ID!) {\n    updateConvoLink(input: { id: $id, status: "READY" }) {\n      id\n      name\n      convoLinkUserId\n      status\n      conversation {\n        id\n        name\n        createdAt\n        associated {\n          items {\n            convoLinkUserId\n            user {\n              id\n              username\n              avatar\n            }\n          }\n        }\n      }\n    }\n  }\n']);return ve=function(){return e},e}function he(){var e=Object(z.a)(["\n  mutation createConvoLink($input: CreateConvoLinkInput!) {\n    createConvoLink(input: $input) {\n      id\n      name\n      status\n      conversation {\n        id\n        name\n        createdAt\n        associated {\n          items {\n            convoLinkUserId\n            user {\n              id\n              username\n              avatar\n            }\n          }\n        }\n      }\n    }\n  }\n"]);return he=function(){return e},e}function Ee(){var e=Object(z.a)(["\n  mutation RegisterEmployee($input: CreateUserInput!) {\n    registerEmployee(input: $input) {\n      id\n      username\n      registered\n      active\n      address\n      zipcode\n      latitudes\n      longitudes\n      cardInfo\n      userConversations {\n        items {\n          id\n          name\n          status\n          conversation {\n            id\n            name\n            createdAt\n            associated {\n              items {\n                convoLinkUserId\n                user {\n                  id\n                  username\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n"]);return Ee=function(){return e},e}function ye(){var e=Object(z.a)(["\n  mutation UpdateEmployee($input: UpdateEmployeeInput!) {\n    updateEmployee(input: $input) {\n      id\n      username\n      registered\n      active\n      address\n      zipcode\n      latitudes\n      longitudes\n      cardInfo\n  }\n}\n"]);return ye=function(){return e},e}function Oe(){var e=Object(z.a)(["\n  mutation RegisterFullEmployee($input: CreateEmployeeInput!) {\n    registerEmployee(input: $input) {\n      id\n      username\n      registered\n      active\n      address\n      zipcode\n      latitudes\n      longitudes\n      cardInfo\n  }\n}\n"]);return Oe=function(){return e},e}function ke(){var e=Object(z.a)(["\n  mutation RegisterUser($input: CreateUserInput!) {\n    registerUser(input: $input) {\n      id\n      username\n      registered\n      active\n      address\n      zipcode\n      latitudes\n      longitudes\n      cardInfo\n      userConversations {\n        items {\n          id\n          name\n          status\n          conversation {\n            id\n            name\n            createdAt\n            associated {\n              items {\n                convoLinkUserId\n                user {\n                  id\n                  username\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n"]);return ke=function(){return e},e}function je(){var e=Object(z.a)(["\n  mutation UpdateUser($input: UpdateUserInput!) {\n    updateUser(input: $input) {\n      id\n      username\n      registered\n      active\n      address\n      zipcode\n      latitudes\n      longitudes\n      rating\n      cardInfo\n  }\n}\n"]);return je=function(){return e},e}function we(){var e=Object(z.a)(["\n  mutation registerEmployeeUser($input: CreateEmployeeInput!) {\n    registerEmployee(input: $input) {\n      id\n      username\n      registered\n      active\n      address\n      zipcode\n      latitudes\n      longitudes\n      cardInfo\n  }\n}\n"]);return we=function(){return e},e}function Ce(){var e=Object(z.a)(["\n  mutation RegisterFullUser($input: CreateUserInput!) {\n    registerFullUser(input: $input) {\n      id\n      username\n      registered\n      active\n      address\n      zipcode\n      latitudes\n      longitudes\n      cardInfo\n  }\n}\n"]);return Ce=function(){return e},e}function xe(){var e=Object(z.a)(["\n  mutation CreateMessage($input: CreateMessageInput!) {\n    createMessage(input: $input) {\n      id\n      content\n      createdAt\n      owner\n      chatbot\n      isSent\n      file\n      messageConversationId\n      conversation {\n        id\n        name\n        createdAt\n      }\n    }\n  }\n"]);return xe=function(){return e},e}function Se(){var e=Object(z.a)(['\n    mutation UpdateTicket($id: ID!, $ticketEmployeeId: ID!, $price: String, $ticketEmployeeInfo: String, $ticketFilter: String, $time: String) {\n      updateTicket(\n        input: {\n          id: $id\n          price: $price\n          ticketEmployeeId: $ticketEmployeeId\n          ticketEmployeeInfo: $ticketEmployeeInfo\n          status: "assinged",\n          ticketFilter : $ticketFilter\n          time : $time\n        }\n      )\n    {\n      id\n      content\n      time\n      destination\n      price\n      title\n      county\n      source\n      status\n      ticketFilter\n      ticketEmployeeId\n      ticketEmployeeInfo\n      ticketType\n      execptedPrice\n      ticketUserId\n      category\n      userClosedComment\n    }\n  }\n']);return Se=function(){return e},e}function Ne(){var e=Object(z.a)(["\n    mutation UpdateTicket($input: UpdateTicketInput!\n      ) {\n      updateTicket(\n        input: $input\n      )\n    {\n      id\n      content\n      time\n      destination\n      price\n      title\n      county\n      source\n      status\n      ownerUploadImages\n      employeeUploadImages\n      ticketEmployeeId\n      empClosedComment\n      empClosedTime\n      ticketType\n      ticketFilter\n      ticketUserId\n      category\n      execptedPrice\n      ticketEmployeeInfo\n      userClosedComment\n    }\n  }\n  "]);return Ne=function(){return e},e}function Ie(){var e=Object(z.a)(["\n  mutation CreateTicket($input: CreateTicketInput!) {\n    createTicket(input: $input) {\n      id\n      countAndId\n      ticketUserId\n      owner\n      content\n      time\n      destination\n      price\n      title\n      county\n      source\n      status\n      ticketFilter\n      ticketEmployeeInfo\n      ticketEmployeeId\n      ticketUserInfo\n      ownerUploadImages\n      employeeUploadImages\n      empClosedComment\n      ticketType\n      execptedPrice\n      category\n      userClosedComment\n    }\n  }\n"]);return Ie=function(){return e},e}function Te(){var e=Object(z.a)(["\n  mutation CreateConvo($input: CreateConversationInput!) {\n    createConvo(input: $input) {\n      id\n      name\n      createdAt\n      associated {\n        items {\n          convoLinkUserId\n          user {\n            id\n            username\n          }\n        }\n      }\n    }\n  }\n"]);return Te=function(){return e},e}function _e(){var e=Object(z.a)(["\n  mutation CreateUserTicket($input: CreateUserTicketInput!) {\n    createUserTicket(input: $input) {\n      id\n      ticketID\n      userID\n    }\n  }\n"]);return _e=function(){return e},e}var Ue=Y()(_e()),Pe=Y()(Te()),Ae=Y()(Ie()),De=Y()(Ne()),Re=Y()(Se()),Be=Y()(xe()),Le=(Y()(Ce()),Y()(we()),Y()(je())),Je=Y()(ke()),$e=(Y()(Oe()),Y()(ye()),Y()(Ee()),Y()(he())),Fe=Y()(ve()),qe=Y()(ge()),We=Y()(be()),Me=Y()(fe()),ze=function(){var e=Object(T.a)(I.a.mark((function e(t,n){var a,r,i,o,c,s,l,u,m,d,p,f;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=t,r={name:"direct"},e.next=5,M.a.graphql(Object(M.i)(Pe,{input:r}));case 5:return i=e.sent,console.log("conversation",i),o={convoLinkUserId:a,convoLinkConversationId:i.data.createConvo.id,status:"CREATING",name:"chat"},c={convoLinkUserId:n,convoLinkConversationId:i.data.createConvo.id,status:"CREATING",name:"chat"},e.next=11,M.a.graphql(Object(M.i)($e,{input:o}));case 11:return s=e.sent,e.next=14,M.a.graphql(Object(M.i)($e,{input:c}));case 14:return l=e.sent,u=s.data.createConvoLink.id,m=l.data.createConvoLink.id,e.next=19,M.a.graphql(Object(M.i)(Fe,{id:u}));case 19:return d=e.sent,console.log(" mm next steps",d),e.next=23,M.a.graphql(Object(M.i)(Fe,{id:m}));case 23:return p=e.sent,console.log(" xy next steps",p),console.log("item created!",i),f=p.data.updateConvoLink,e.abrupt("return",{conversation:f.conversation,conversationName:f.name});case 30:e.prev=30,e.t0=e.catch(0),console.log("error creating talk...",e.t0);case 33:case"end":return e.stop()}}),e,null,[[0,30]])})));return function(t,n){return e.apply(this,arguments)}}(),He=function(){var e=Object(T.a)(I.a.mark((function e(t,n,a){var r,i,o;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("findConverationWithUser",t,n,a),e.next=3,M.a.graphql(Object(M.i)(de,{id:t}));case 3:if(r=e.sent,console.log("fetchDate",r),!(r.data.getUser&&r.data.getUser.userConversations.items.length>0)){e.next=9;break}return i=r.data.getUser.userConversations.items,o=i.find((function(e){var t=e.conversation,a=(t=void 0===t?{}:t).associated,r=(a=void 0===a?{}:a).items;return(void 0===r?[]:r).some((function(e){return e.convoLinkUserId===n}))})),e.abrupt("return",o?{conversation:o.conversation,conversationName:o.name}:null);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),Ye=function(){var e=Object(T.a)(I.a.mark((function e(t,n,a){var r;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,He(t,n,a);case 2:if(r=e.sent,console.log("existing conv",r),r){e.next=9;break}return console.log("no convo, launch new"),e.next=8,ze(t,n);case 8:return e.abrupt("return",e.sent);case 9:return e.abrupt("return",r);case 10:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),Ve=function(){var e=Object(T.a)(I.a.mark((function e(t,n){var a,r,i;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.a.graphql(Object(M.i)(se,{id:t}));case 2:if(!(a=e.sent).data.getUser){e.next=8;break}return r=a.data.getUser,i=Ge(r.rating,n),e.next=8,M.a.graphql(Object(M.i)(Le,{input:{id:t,rating:i}}));case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ge=function(e,t){if(e&&e.length>1){var n=JSON.parse(e),a=parseFloat(n.rating),r=parseInt(n.total),i=(r*a+parseFloat(t))/(r+1);return JSON.stringify({rating:i,total:r+1})}return JSON.stringify({rating:t,total:1})},Ke=n(298),Ze=n.n(Ke),Xe=n(887),Qe=Object(k.a)((function(e){return Object(j.a)({appBar:{boxShadow:"none"},appBarBefore:{border:1},menuButton:{marginRight:e.spacing(1)},spacer:{flexGrow:1}})})),et=function(e){var t=e.header,n=Qe(Object(w.a)()),i=Object(a.useContext)(s.a),o=Object(u.g)(),c=r.a.useState(!1),l=Object(m.a)(c,2),d=l[0],p=l[1],f=r.a.useState(!1),b=Object(m.a)(f,2),g=b[0],v=b[1];r.a.useEffect((function(){if(t&&i&&i.userId&&i.user){var e=i.userId;!function(){var t=Object(T.a)(I.a.mark((function t(){var n,a;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,M.a.graphql(Object(M.i)(me,{receiver:e,isSent:"false"}));case 2:n=t.sent,console.log("getUserMessages",n),n.data.messageByReceiver&&n.data.messageByReceiver.items.length>0&&(v(!0),a=n.data.messageByReceiver.items,a.filter((function(e){var t="40a6d5e4-50c8-4530-af38-18497f87711f";return"github"!==Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_SECRET_CODE&&(t="b1589897-8074-4076-b73d-f81f095e1d1f"),e.owner===t})).length>0&&p(!0));case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()()}}),[t,i.userId]);var h=function(){var e=Object(T.a)(I.a.mark((function e(){var t,n,a;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.userId,n="40a6d5e4-50c8-4530-af38-18497f87711f","github"!==Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_SECRET_CODE&&(n="b1589897-8074-4076-b73d-f81f095e1d1f"),e.next=5,Ye(t,n,!0);case 5:a=e.sent,o.push({pathname:"/chat",state:{conversation:a,user:t}});case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=i.isAuthenticated()&&t?r.a.createElement("div",null,"profile"===t?r.a.createElement(_.a,{className:n.menuButton,onClick:function(){return i.signOut()}},r.a.createElement(J.a,{style:{color:"white"}})):null,"Home"===t?r.a.createElement("span",null,r.a.createElement(Xe.a,{title:"Review"},r.a.createElement(_.a,{className:n.menuButton,onClick:function(){return o.push("/review")}},r.a.createElement(Ze.a,{style:{color:"white"}}))),r.a.createElement(Xe.a,{title:"Profile"},r.a.createElement(_.a,{className:n.menuButton,onClick:function(){return o.push("/profile")}},r.a.createElement(F.a,{style:{color:"white"}}))),r.a.createElement(Xe.a,{title:"Contact Support"},r.a.createElement(_.a,{color:"primary",className:n.menuButton,onClick:h},r.a.createElement(pe.a,{color:"secondary",overlap:"circle",badgeContent:" ",invisible:!d},r.a.createElement(W.a,{style:{color:"white"}})))),r.a.createElement(Xe.a,{title:"Chat"},r.a.createElement(_.a,{"aria-label":"show 17 new notifications",color:"primary",className:n.menuButton,onClick:function(){return o.push("/chat")}},r.a.createElement(pe.a,{color:"secondary",overlap:"circle",badgeContent:" ",invisible:!g},r.a.createElement(B.a,{style:{color:"white"}}))))):null):null;return r.a.createElement(U.a,{position:"fixed",className:i.isAuthenticated()?n.appBarBefore:n.appBar},r.a.createElement(P.a,null,r.a.createElement(_.a,{edge:"start",className:n.menuButton,onClick:function(){return o.push("/")},color:"inherit","aria-label":"home"},r.a.createElement(D.a,{style:{color:"white"}})),r.a.createElement("div",{className:n.spacer}),E))},tt=n(891),nt=Object(k.a)((function(e){return Object(j.a)({root:{display:"flex",flexDirection:"column",minHeight:"100vh"},main:{marginBottom:e.spacing(2)}})})),at=function(e){var t=e.title,n=e.children,i=nt(Object(w.a)());return Object(a.useEffect)((function(){document.title=t}),[t]),r.a.createElement(E,null,r.a.createElement("div",{className:i.root},r.a.createElement(tt.a,null),r.a.createElement(et,null),r.a.createElement(O.a,{className:i.main,maxWidth:"sm"},n),r.a.createElement(S,null)))},rt=n(4),it=n(302),ot=n.n(it),ct=n(304),st=n.n(ct),lt=n(160),ut=n.n(lt),mt=n(73),dt=n.n(mt),pt=n(176),ft=n(892),bt=n(937),gt=n(893),vt=n(303),ht=n.n(vt),Et={success:ot.a,warning:ht.a,error:st.a,info:ut.a},yt=Object(k.a)((function(e){return{success:{backgroundColor:pt.a[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:e.palette.primary.main},warning:{backgroundColor:ft.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing(1)},message:{display:"flex",alignItems:"center"}}}));function Ot(e){var t=yt(),n=e.className,a=e.message,i=e.onClose,o=e.variant,c=Et[o];return r.a.createElement(gt.a,{className:Object(rt.a)(t[o],n),"aria-describedby":"client-snackbar",message:r.a.createElement("span",{id:"client-snackbar",className:t.message},r.a.createElement(c,{className:Object(rt.a)(t.icon,t.iconVariant)}),a),action:[r.a.createElement(_.a,{key:"close","aria-label":"close",color:"inherit",onClick:i},r.a.createElement(dt.a,{className:t.icon}))]})}var kt,jt=Object(k.a)((function(e){return{margin:{margin:e.spacing(1)}}})),wt=function(e){var t=e.variant,n=e.message,i=e.setMessage,o=jt(),c=Object(a.useState)(!1),s=Object(m.a)(c,2),l=s[0],u=s[1];Object(a.useEffect)((function(){u(""!==n)}),[n]),Object(a.useEffect)((function(){!l&&i("")}),[l]);var d=function(e,t){"clickaway"!==t&&u(!1)},p=r.a.createElement(bt.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:l,autoHideDuration:3e3,onClose:d},r.a.createElement(Ot,{onClose:d,className:o.margin,variant:t,message:n}));return r.a.createElement("div",null,p)},Ct=n(894),xt=Object(k.a)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(w.a)();return Object(j.a)({form:{width:"100%",marginTop:e.spacing(1)},textfield:{margin:e.spacing(2,0,0)},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},submit:{margin:e.spacing(3,0,2)},links:{padding:"0px 5px"},btn:{width:"100%",maxWidth:"260px",marginTop:e.spacing(2)},btnFederated:{backgroundColor:"white",color:e.palette.grey[600]},btnElems:{display:"grid",width:"100%",gridTemplateColumns:"repeat(12, 2fr)"},btnIcon:{display:"flex",gridColumnEnd:"span 2"},btnLabel:{height:"100%",display:"flex",justifyContent:"center",gridColumnEnd:"span 10",textTransform:"none"},input:{padding:"11.5px 10px"},container:{display:"grid",width:"100%",gridTemplateColumns:"repeat(12, 2fr)"}})})),St=function(e){var t=e.children,n=e.disabled,a=xt();return r.a.createElement(Ct.a,{type:"submit",disabled:n,fullWidth:!0,variant:"contained",color:"primary",size:"large",className:a.submit},t)},Nt=n(895),It=n(896),Tt=n(897),_t=n(940),Ut=n(898),Pt=n(899),At=n(900),Dt=function(e){var t=e.setPassword,n=Object(a.useState)(!1),i=Object(m.a)(n,2),o=i[0],c=i[1],s=Object(a.useState)(!0),l=Object(m.a)(s,2),u=l[0],d=l[1],p=Object(a.useState)(""),f=Object(m.a)(p,2),b=f[0],g=f[1],v=null,h=xt(),E=u?null:r.a.createElement(Nt.a,{error:!u,id:"standard-weight-helper-text"},b);return r.a.createElement(It.a,{required:!0,variant:"outlined",fullWidth:!0,style:{marginTop:16},className:h.textfield},r.a.createElement(Tt.a,{htmlFor:"outlined-adornment-password",error:!u},"Password"),r.a.createElement(_t.a,{required:!0,error:!u,id:"outlined-adornment-password",type:o?"text":"password",onChange:function(e){return n=e.target.value,null!==v&&clearTimeout(v),void(v=setTimeout((function(){var e=/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,32}$/.test(n);d(e),g(n.length>0?"Password is too weak \u2013 please enter at least 8 characters with a minimum of one number and one uppercase letter":"Enter password."),t(e?n:""),v=null}),200));var n},endAdornment:r.a.createElement(Ut.a,{position:"end"},r.a.createElement(_.a,{"aria-label":"toggle password visibility",onClick:function(){c(!o)},onMouseDown:function(e){e.preventDefault()}},o?r.a.createElement(Pt.a,null):r.a.createElement(At.a,null))),labelWidth:80}),E)},Rt=n(935),Bt=n(305),Lt=n.n(Bt),Jt=function(e){var t=e.title,n=e.children,a=xt();return r.a.createElement(O.a,{maxWidth:"xs"},r.a.createElement(tt.a,null),r.a.createElement("div",{className:a.paper},r.a.createElement(Rt.a,{className:a.avatar},r.a.createElement(Lt.a,null)),r.a.createElement(y.a,{component:"h1",variant:"h5"},t),n))},$t=n(927),Ft=function(e){var t=e.setPhoneNumber,n=Object(a.useState)(!0),i=Object(m.a)(n,2),o=i[0],c=i[1],s=Object(a.useState)(""),l=Object(m.a)(s,2),u=l[0],d=l[1],p=Object(a.useState)(""),f=Object(m.a)(p,2),b=f[0],g=f[1],v=null;return r.a.createElement($t.a,{error:!o,variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"phoneNumber",label:"Phone Number",name:"phoneNumber",autoComplete:"phoneNumber",value:b,helperText:u,InputProps:{startAdornment:r.a.createElement(Ut.a,{position:"start"},"+1")},onChange:function(e){!function(e){null!==v&&clearTimeout(v),v=setTimeout((function(){e=e.replace(/[^0-9]/g,"");var n=/^[\+]?[(]?[0-9]{3}[)]?[-\s\.]?[0-9]{3}[-\s\.]?[0-9]{4,6}$/im.test(e);console.log("phone",e),c(n),d(n?"":e.length>0?"Invalid phone number.":"Enter phoneNumber."),g(e),t(n?e:""),v=null}),50)}(e.currentTarget.value.replace(/[^0-9]/g,""))}})},qt=function(){var e=Object(a.useContext)(s.a),t=Object(a.useState)(""),n=Object(m.a)(t,2),i=(n[0],n[1],Object(a.useState)("")),o=Object(m.a)(i,2),c=o[0],l=o[1],f=Object(a.useState)(!0),b=Object(m.a)(f,2),g=b[0],v=b[1],h=Object(a.useState)(""),E=Object(m.a)(h,2),y=E[0],O=E[1],k=Object(u.g)(),j=Object(a.useState)(""),w=Object(m.a)(j,2),C=w[0],x=w[1];Object(a.useEffect)((function(){v(!(C&&c))}),[C,c]);var S=Object(a.useCallback)((function(e){O(e)}),[]),N=xt();return r.a.createElement(at,{title:"Travtail Sign In"},r.a.createElement(Jt,{title:"Sign In"},r.a.createElement(wt,{variant:"error",message:y,setMessage:function(e){return S(e)}}),r.a.createElement("form",{className:N.form,onSubmit:function(t){return function(t){t.preventDefault(),e.signIn(C,c).then((function(e){console.log("sign in success!")})).catch((function(e){O("User is not confirmed."!==e?"User does not exist."===e?"This account does not exist. Please signup using the sign up link above.":e:"Your account is not confirmed. Confirm your account by clicking the confirm sign up link above")}))}(t)},noValidate:!0},r.a.createElement(Ft,{setPhoneNumber:function(e){return x(e)}}),r.a.createElement(Dt,{setPassword:function(e){return l(e)}}),r.a.createElement(St,{disabled:g},"Sign In"),r.a.createElement(d.a,{container:!0},r.a.createElement(d.a,{item:!0,xs:4,className:N.links},r.a.createElement(p.a,{href:"#",onClick:function(){return k.push("/auth/resetpassword")},variant:"body2"},"Forget Password")),r.a.createElement(d.a,{item:!0,xs:5,className:N.links},r.a.createElement(p.a,{href:"#",onClick:function(){return k.push("/auth/signup/confirmemail")},variant:"body2"},"Confirm Sign Up")),r.a.createElement(d.a,{item:!0,xs:3,className:N.links},r.a.createElement(p.a,{href:"#",onClick:function(){return k.push("/auth/signup")},variant:"body2"},"Sign Up"))))))},Wt=n(929),Mt=n(936),zt=n(903),Ht=n(834),Yt=function(e){var t=e.setEmail,n=Object(a.useState)(!0),i=Object(m.a)(n,2),o=i[0],c=i[1],s=Object(a.useState)(""),l=Object(m.a)(s,2),u=l[0],d=l[1],p=null;return r.a.createElement($t.a,{error:!o,variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",helperText:u,onChange:function(e){return n=e.currentTarget.value,null!==p&&clearTimeout(p),void(p=setTimeout((function(){var e=/\S+@\S+\.\S+/.test(n);c(e),d(e?"":n.length>0?"Invalid email.":"Enter email."),t(e?n:""),p=null}),200));var n}})},Vt=function(e){var t=e.authpass,n=e.setRePassword,i=Object(a.useState)(!1),o=Object(m.a)(i,2),c=o[0],s=o[1],l=Object(a.useState)(!0),u=Object(m.a)(l,2),d=u[0],p=u[1],f=Object(a.useState)(""),b=Object(m.a)(f,2),g=b[0],v=b[1],h=null,E=xt(),y=d?null:r.a.createElement(Nt.a,{error:!d,id:"standard-weight-helper-text"},g);return r.a.createElement(It.a,{required:!0,variant:"outlined",fullWidth:!0,style:{marginTop:"16px",marginBottom:"16px"},className:E.textfield},r.a.createElement(Tt.a,{htmlFor:"outlined-adornment-re-password",error:!d},"Re-Enter-Password"),r.a.createElement(_t.a,{required:!0,error:!d,id:"outlined-adornment-re-password",type:c?"text":"password",onChange:function(e){return a=e.target.value,null!==h&&clearTimeout(h),void(h=setTimeout((function(){var e=/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,32}$/.test(a);p(e),v(a.length>0?"Password is too weak \u2013 please enter at least 8 characters with a minimum of one number and one uppercase letter":"Enter password."),t!==a&&(p(!1),v("Password mismatch")),n(e?a:""),h=null}),200));var a},endAdornment:r.a.createElement(Ut.a,{position:"end"},r.a.createElement(_.a,{"aria-label":"toggle password visibility",onClick:function(){s(!c)},onMouseDown:function(e){e.preventDefault()}},c?r.a.createElement(Pt.a,null):r.a.createElement(At.a,null))),labelWidth:80}),y)},Gt=function(){var e=Object(a.useContext)(s.a),t=Object(a.useState)(""),n=Object(m.a)(t,2),i=n[0],o=n[1],c=Object(a.useState)(""),l=Object(m.a)(c,2),f=l[0],b=l[1],g=Object(a.useState)(""),v=Object(m.a)(g,2),h=v[0],E=v[1],y=Object(a.useState)(""),O=Object(m.a)(y,2),k=O[0],j=O[1],w=Object(a.useState)(!0),C=Object(m.a)(w,2),x=C[0],S=C[1],N=Object(a.useState)(""),I=Object(m.a)(N,2),T=I[0],_=I[1],U=Object(u.g)(),P=r.a.useState(""),A=Object(m.a)(P,2),D=A[0],R=A[1];Object(a.useEffect)((function(){S(!(i&&f&&k&&D)),f!==h&&S(!0)}),[i,f,h,k,D]);var B=Object(a.useCallback)((function(e){_(e)}),[]),L=xt();return r.a.createElement(at,{title:"Sign Up"},r.a.createElement(Jt,{title:"Sign Up"},r.a.createElement(wt,{variant:"error",message:T,setMessage:function(e){return B(e)}}),r.a.createElement("form",{className:L.form,onSubmit:function(t){return function(t){t.preventDefault();var n=k.replace(/^\D+/g,"");e.signUp(i,f,n,D).then((function(e){U.push("/auth/signup/confirm",n)})).catch((function(e){console.error("error:",e),_(e)}))}(t)},noValidate:!0},r.a.createElement(Ft,{setPhoneNumber:function(e){return j(e)}}),r.a.createElement(Yt,{setEmail:function(e){return o(e)}}),r.a.createElement(Dt,{setPassword:function(e){return b(e)}}),r.a.createElement(Vt,{authpass:f,setRePassword:function(e){return E(e)}}),r.a.createElement(It.a,{className:L.form,component:"fieldset"},r.a.createElement(Ht.a,{component:"legend"},"Account Type"),r.a.createElement(Mt.a,{row:!0,"aria-label":"position",value:D,onChange:function(e){R(e.target.value)}},r.a.createElement(zt.a,{value:"Customer",control:r.a.createElement(Wt.a,null),label:"Customer"}),r.a.createElement(zt.a,{value:"Employee",control:r.a.createElement(Wt.a,null),label:"Service Provider"}))),r.a.createElement(St,{disabled:x},"Sign Up"),r.a.createElement(d.a,{container:!0},r.a.createElement(d.a,{item:!0,xs:!0,className:L.links},r.a.createElement(p.a,{href:"#",onClick:function(){return U.push("/auth")},variant:"body2"},"Sign In")),r.a.createElement(d.a,{item:!0,className:L.links},r.a.createElement(p.a,{href:"#",onClick:function(){return U.push("/auth/signup/confirmemail")},variant:"body2"},"Confirm Sign Up"))))))},Kt=function(e){var t=e.setCode,n=Object(a.useState)(""),i=Object(m.a)(n,2),o=i[0],c=i[1],s=null;return r.a.createElement($t.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"confirmation",label:"Confirmation Code",name:"confirmation",helperText:o,onChange:function(e){return n=e.currentTarget.value,null!==s&&clearTimeout(s),void(s=setTimeout((function(){var e=6===n.length;c(e?"":"Incorrect code length."),t(e?n:""),s=null}),300));var n}})},Zt=function(e){var t=Object(a.useContext)(s.a),n=Object(a.useState)(""),i=Object(m.a)(n,2),o=i[0],c=i[1],l=Object(a.useState)(!0),f=Object(m.a)(l,2),b=f[0],g=f[1],v=Object(a.useState)(""),h=Object(m.a)(v,2),E=h[0],y=h[1],O=Object(a.useState)(""),k=Object(m.a)(O,2),j=k[0],w=k[1],C=Object(u.g)(),x=e.location.state||"";Object(a.useEffect)((function(){g(!o)}),[o]);var S=Object(a.useCallback)((function(e){y(e)}),[]),N=Object(a.useCallback)((function(e){w(e)}),[]),I=xt();return r.a.createElement(at,{title:"Travtail Confirm Sign Up"},r.a.createElement(Jt,{title:"Confirm Sign Up"},r.a.createElement(wt,{variant:"error",message:E,setMessage:function(e){return S(e)}}),r.a.createElement(wt,{variant:"success",message:j,setMessage:function(e){return N(e)}}),r.a.createElement("form",{className:I.form,onSubmit:function(e){return function(e){e.preventDefault(),t.confirmSignUp(x,o).then((function(e){console.log(e),C.push("/")})).catch((function(e){console.error("error:",e),y(e)}))}(e)},noValidate:!0},r.a.createElement(Kt,{setCode:function(e){return c(e)}}),r.a.createElement(St,{disabled:b},"Confirm"),r.a.createElement(d.a,{container:!0},r.a.createElement(d.a,{item:!0,xs:!0,className:I.links}),r.a.createElement(d.a,{item:!0,className:I.links},r.a.createElement(p.a,{href:"#",onClick:function(){t.resendSignUp(x).then((function(e){w("Code resent to your phoneNumber.")})).catch((function(e){console.error("error:",e),y(e)}))},variant:"body2"},"Resend code"))))))},Xt=function(){var e=Object(a.useContext)(s.a),t=Object(a.useState)(""),n=Object(m.a)(t,2),i=n[0],o=n[1],c=Object(a.useState)(!0),l=Object(m.a)(c,2),f=l[0],b=l[1],g=Object(a.useState)(""),v=Object(m.a)(g,2),h=v[0],E=v[1],y=Object(a.useState)(""),O=Object(m.a)(y,2),k=O[0],j=O[1],w=Object(u.g)(),C=Object(a.useState)(""),x=Object(m.a)(C,2),S=x[0],N=x[1];Object(a.useEffect)((function(){b(!(S&&i))}),[S,i]);var I=Object(a.useCallback)((function(e){E(e)}),[]),T=Object(a.useCallback)((function(e){j(e)}),[]),_=xt();return r.a.createElement(at,{title:"Travtail Confirm Sign Up"},r.a.createElement(Jt,{title:"Confirm Sign Up"},r.a.createElement(wt,{variant:"error",message:h,setMessage:function(e){return I(e)}}),r.a.createElement(wt,{variant:"success",message:k,setMessage:function(e){return T(e)}}),r.a.createElement("form",{className:_.form,onSubmit:function(t){return function(t){t.preventDefault(),e.confirmSignUp(S,i).then((function(e){console.log(e),w.push("/")})).catch((function(e){console.error("error:",e),E(e)}))}(t)},noValidate:!0},r.a.createElement(Ft,{setPhoneNumber:function(e){return N(e)}}),r.a.createElement(Kt,{setCode:function(e){return o(e)}}),r.a.createElement(St,{disabled:f},"Confirm"),r.a.createElement(d.a,{container:!0},r.a.createElement(d.a,{item:!0,xs:!0,className:_.links}),r.a.createElement(d.a,{item:!0,className:_.links},r.a.createElement(p.a,{href:"#",onClick:function(){e.resendSignUp(S).then((function(e){j("Code resent to your phoneNumber.")})).catch((function(e){console.error("error:",e),E(e)}))},variant:"body2"},"Resend code"))))))},Qt=function(){var e=Object(a.useContext)(s.a),t=Object(a.useState)(""),n=Object(m.a)(t,2),i=n[0],o=n[1],c=Object(a.useState)(!0),l=Object(m.a)(c,2),d=l[0],p=l[1],f=Object(a.useState)(""),b=Object(m.a)(f,2),g=(b[0],b[1],Object(u.g)()),v=Object(a.useState)(""),h=Object(m.a)(v,2),E=h[0],y=h[1];Object(a.useEffect)((function(){p(!E)}),[E]);var O=Object(a.useCallback)((function(e){o(e)}),[]),k=xt();return r.a.createElement(at,{title:"Travtail Reset Password"},r.a.createElement(Jt,{title:"Reset Password"},r.a.createElement(wt,{variant:"error",message:i,setMessage:function(e){return O(e)}}),r.a.createElement("form",{className:k.form,onSubmit:function(t){return function(t){t.preventDefault(),e.resetPassword(E).then((function(e){console.log("response",e,E),g.push("/auth/resetpassword/confirm",E)})).catch((function(e){console.error("error:",e),o(e)}))}(t)},noValidate:!0},r.a.createElement(Ft,{setPhoneNumber:function(e){return y(e)}}),r.a.createElement(St,{disabled:d},"Reset"))))},en=function(e){var t=Object(a.useContext)(s.a),n=Object(a.useState)(""),i=Object(m.a)(n,2),o=i[0],c=i[1],l=Object(a.useState)(""),f=Object(m.a)(l,2),b=f[0],g=f[1],v=Object(a.useState)(!0),h=Object(m.a)(v,2),E=h[0],y=h[1],O=Object(a.useState)(""),k=Object(m.a)(O,2),j=k[0],w=k[1],C=Object(a.useState)(""),x=Object(m.a)(C,2),S=x[0],N=x[1],I=Object(u.g)(),T=e.location.state||"";Object(a.useEffect)((function(){y(!(b&&o))}),[b,o]);var _=Object(a.useCallback)((function(e){w(e)}),[]),U=Object(a.useCallback)((function(e){N(e)}),[]),P=xt();return r.a.createElement(at,{title:"Travtail Confirm Reset"},r.a.createElement(Jt,{title:"Reset Password"},r.a.createElement(wt,{variant:"error",message:j,setMessage:function(e){return _(e)}}),r.a.createElement(wt,{variant:"success",message:S,setMessage:function(e){return U(e)}}),r.a.createElement("form",{className:P.form,onSubmit:function(e){return function(e){e.preventDefault(),t.confirmResetPassword(T,o,b).then((function(e){console.log(e),I.push("/")})).catch((function(e){console.error("error:",e),w(e)}))}(e)},noValidate:!0},r.a.createElement(Dt,{setPassword:function(e){return c(e)}}),r.a.createElement(Kt,{setCode:function(e){return g(e)}}),r.a.createElement(St,{disabled:E},"Confirm"),r.a.createElement(d.a,{container:!0},r.a.createElement(d.a,{item:!0,xs:!0,className:P.links}),r.a.createElement(d.a,{item:!0,className:P.links},r.a.createElement(p.a,{href:"#",onClick:function(){t.resendSignUp(T).then((function(e){N("Code resent to your email.")})).catch((function(e){console.error("error:",e),w(e)}))},variant:"body2"},"Resend code"))))))},tn=function(){var e=Object(a.useContext)(s.a),t=Object(u.g)();Object(a.useEffect)((function(){console.log("authenticated?",e.isAuthenticated()),e.isAuthenticated()&&t.push("/")}),[]),e.isAuthenticated()&&t.push("/");var n=e.isAuthenticated()?null:r.a.createElement(u.d,null,r.a.createElement(u.b,{exact:!0,path:"/auth",component:qt}),r.a.createElement(u.b,{exact:!0,path:"/auth/signup",component:Gt}),r.a.createElement(u.b,{exact:!0,path:"/auth/signup/confirm",component:Zt}),r.a.createElement(u.b,{exact:!0,path:"/auth/signup/confirmemail",component:Xt}),r.a.createElement(u.b,{exact:!0,path:"/auth/resetpassword",component:Qt}),r.a.createElement(u.b,{exact:!0,path:"/auth/resetpassword/confirm",component:en}));return r.a.createElement(r.a.Fragment,null,n)},nn=n(19),an=n(224),rn=n(939),on=n(906),cn=n(931),sn=n(17);!function(e){e.APPROXIMATE="APPROXIMATE",e.GEOMETRIC_CENTER="GEOMETRIC_CENTER",e.RANGE_INTERPOLATED="RANGE_INTERPOLATED",e.ROOFTOP="ROOFTOP"}(kt||(kt={}));var ln=[{value:"Personal Helper",label:"Personal Shopper/Helper"},{value:"Plumbing Services",label:"Plumber"},{value:"Handyman Services",label:"Handyman"},{value:"Volunteers",label:"Volunteer"},{value:"Appliance Repair/Installation Services",label:"Appliance Repair/Installation Services"},{value:"Cleaning Services",label:"Cleaning Services"},{value:"Gardening Services",label:"Lawn Mower/Landscaping Services"},{value:"Delivery Services",label:"General Delivery Services"},{value:"Moving/Hauling Services",label:"Moving/Hauling Services"}],un=n(177),mn=function(e){r.a.useEffect((function(){e.input&&e.input.length>1&&l(e.input)}),[e.input]);var t=Object(un.a)({requestOptions:{},debounce:500}),n=t.ready,i=t.value,o=t.suggestions,c=o.status,s=o.data,l=t.setValue,u=t.clearSuggestions,m=(Object(a.useRef)(),function(t){var n=t.description;return function(){l(n,!1),u(),Object(un.b)({address:n}).then((function(t){var n=t[0].geometry.location,a=n.lat,r=n.lng;return t[0].latitudes=a.toString(),t[0].longitudes=r.toString(),e.googleAddressReturn(t),Object(un.c)(t[0]).then((function(n){var a=n.lat,r=n.lng;t[0].latitudes=a.toString(),t[0].longitudes=r.toString(),e.googleAddressReturn(t)}))})).catch((function(e){console.log("\ud83d\ude31 Error: ",e)}))}});return r.a.createElement("div",null,r.a.createElement($t.a,{required:!0,label:e.label,fullWidth:!0,disabled:!n,onChange:function(e){l(e.target.value)},value:i,autoComplete:"billing address-level2"}),"OK"===c&&r.a.createElement("ul",null,s.map((function(e){var t=e.id,n=e.structured_formatting,a=n.main_text,i=n.secondary_text;return r.a.createElement("li",{key:t,onClick:m(e)},r.a.createElement("strong",null,a)," ",r.a.createElement("small",null,i))}))))},dn=function(e){var t=[{long_name:"924",short_name:"924",types:["street_number"]},{long_name:"Players Court",short_name:"Players Ct",types:["route"]},{long_name:"Players Club of Brentwood",short_name:"Players Club of Brentwood",types:["neighborhood","political"]},{long_name:"Nashville",short_name:"Nashville",types:["locality","political"]},{long_name:"Davidson County",short_name:"Davidson County",types:["administrative_area_level_2","political"]},{long_name:"Tennessee",short_name:"TN",types:["administrative_area_level_1","political"]},{long_name:"United States",short_name:"US",types:["country","political"]},{long_name:"37211",short_name:"37211",types:["postal_code"]}],n=(t=e[0].address_components).filter((function(e){return!!e.types.includes("street_number")})),a=t.filter((function(e){return!!e.types.includes("route")})),r=t.filter((function(e){return!!e.types.includes("postal_code")})),i=t.filter((function(e){return!!e.types.includes("country")})),o=t.filter((function(e){return!!e.types.includes("administrative_area_level_1")})),c=t.filter((function(e){return!!e.types.includes("locality")})),s=t.filter((function(e){return!!e.types.includes("administrative_area_level_2")})),l={address1:n[0]?n[0].long_name:a[0].long_name,city:c[0]?c[0].long_name:"",county:s[0].long_name,state:o[0].long_name,country:i[0].long_name,zip:r[0].long_name,latitudes:e[0].latitudes,longitudes:e[0].longitudes,formatted_address:e[0].formatted_address};return console.log("address",l),l},pn=n(165),fn=n.n(pn),bn=n(34),gn=n(932),vn=Object(k.a)((function(e){return{buttons:{display:"flex",justifyContent:"flex-end"},button:{marginTop:e.spacing(3),marginLeft:e.spacing(1)}}})),hn=function(e){var t=r.a.useContext(s.a),n=vn(),i=function(e){var t=e.target,n=t.name,a=t.value;k(Object(sn.a)({},O,Object(nn.a)({},n,a)))},o=Object(a.useState)([]),c=Object(m.a)(o,2),l=c[0],u=c[1],p=function(){var n=Object(T.a)(I.a.mark((function n(){var a,r,i,o,c,s;return I.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a=t.user.attributes.phone_number,r=t.user.attributes.email,!e.address){n.next=8;break}i=JSON.parse(e.address),o=Object(sn.a)({},O,{pictures:i.pictures,phoneNumber:a,email:r}),e.nextButton(JSON.stringify(o)),n.next=21;break;case 8:if(B(!0),console.log("value",O,_),!(_.length>0)){n.next=19;break}return n.next=13,Object(bn.handleImageUpload)(_);case 13:c=n.sent,console.log("S3path",c),s=Object(sn.a)({},O,{pictures:JSON.stringify(c),phoneNumber:a,email:r}),e.nextButton(JSON.stringify(s)),n.next=20;break;case 19:F("picture missing");case 20:B(!1);case 21:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();r.a.useEffect((function(){var t=function(){var e=Object(T.a)(I.a.mark((function e(t){var n,a,r;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=JSON.parse(t),a=null,!n.pictures){e.next=8;break}return r=JSON.parse(n.pictures),e.next=6,Object(bn.getImages)(r);case 6:a=e.sent,console.log("images",a);case 8:k(Object(sn.a)({},n,{pictures:a})),n.skills&&n.skills.length>2&&u(JSON.parse(n.skills)),B(!1);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();e.address&&(B(!0),t(e.address))}),[e.address]);var f=r.a.useState(!1),b=Object(m.a)(f,2),g=b[0],v=b[1];r.a.useEffect((function(){if(t&&t.userId&&t.user){var e=t.user.attributes["custom:account_type"];v("Customer"!==e)}}),[t.userId]);var h=Object(a.useState)({firstName:"",lastName:"",middelName:"",address1:"",address2:"",city:"",state:"",zip:"",country:"",county:"",latitudes:"",longitudes:"",skills:"",aboutme:"",pictures:""}),E=Object(m.a)(h,2),O=E[0],k=E[1],j=Object(a.useState)(!0),w=Object(m.a)(j,2),C=w[0],x=w[1];Object(a.useEffect)((function(){var e=O.firstName,t=O.lastName,n=O.address1,a=O.city,r=O.zip,i=O.country,o=O.aboutme,c=O.skills;!1===g&&(c="dummy"),x(!(e&&t&&n&&a&&r&&i&&o&&c))}),[O]);var S=Object(a.useState)([]),N=Object(m.a)(S,2),_=N[0],U=N[1],P=function(){var e=Object(T.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:U(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=Object(a.useState)(!1),D=Object(m.a)(A,2),R=D[0],B=D[1],L=Object(a.useState)(""),J=Object(m.a)(L,2),$=J[0],F=J[1],q=r.a.useCallback((function(e){F(e)}),[]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{variant:"h6",gutterBottom:!0},"Your Information"),r.a.createElement(d.a,{container:!0,spacing:1},r.a.createElement(d.a,{item:!0,xs:12,sm:6},r.a.createElement($t.a,{required:!0,id:"firstName",name:"firstName",label:"First name",fullWidth:!0,onChange:i,value:O.firstName,autoComplete:"fname"})),r.a.createElement(d.a,{item:!0,xs:12,sm:6},r.a.createElement($t.a,{id:"middelName",name:"middelName",label:"Middle Name",fullWidth:!0,onChange:i,value:O.middelName,autoComplete:"middelName"})),r.a.createElement(d.a,{item:!0,xs:12,sm:6},r.a.createElement($t.a,{required:!0,id:"lastName",name:"lastName",label:"Last name",fullWidth:!0,onChange:i,value:O.lastName,autoComplete:"lname"})),O.address1.length<2?r.a.createElement(d.a,{item:!0,xs:12,sm:6},r.a.createElement(mn,{label:"Enter your Home address",googleAddressReturn:function(e){console.log("address",e);var t=dn(e);k(Object(sn.a)({},O,{},t))}})):r.a.createElement(d.a,{container:!0,spacing:1},r.a.createElement(d.a,{item:!0,xs:12},r.a.createElement($t.a,{required:!0,id:"address1",name:"address1",label:"Address line 1",fullWidth:!0,onChange:i,value:O.address1,autoComplete:"billing address-line1"})),r.a.createElement(d.a,{item:!0,xs:12},r.a.createElement($t.a,{id:"address2",name:"address2",label:"Address line 2",fullWidth:!0,onChange:i,value:O.address2,autoComplete:"billing address-line2"})),r.a.createElement(d.a,{item:!0,xs:12,sm:6},r.a.createElement($t.a,{required:!0,id:"city",name:"city",label:"City",fullWidth:!0,onChange:i,value:O.city,autoComplete:"billing address-level2"})),r.a.createElement(d.a,{item:!0,xs:12,sm:6},r.a.createElement($t.a,{id:"state",name:"state",label:"State/Province/Region",onChange:i,value:O.state,fullWidth:!0})),r.a.createElement(d.a,{item:!0,xs:12,sm:6},r.a.createElement($t.a,{required:!0,id:"zip",name:"zip",label:"Zip / Postal code",fullWidth:!0,onChange:i,value:O.zip,autoComplete:"billing postal-code"})),r.a.createElement(d.a,{item:!0,xs:12,sm:6},r.a.createElement($t.a,{required:!0,id:"country",name:"country",label:"Country",fullWidth:!0,onChange:i,value:O.country,autoComplete:"billing country"})),r.a.createElement(d.a,{item:!0,xs:12},r.a.createElement($t.a,{multiline:!0,rows:"6",required:!0,id:"aboutme",name:"aboutme",label:"About Me",fullWidth:!0,onChange:i,value:O.aboutme,autoComplete:"content"})),g?r.a.createElement(d.a,{item:!0,xs:12},r.a.createElement(gn.a,{multiple:!0,id:"multiple-limit-tags",options:ln,getOptionLabel:function(e){return e.label},renderInput:function(e){return r.a.createElement($t.a,Object.assign({},e,{variant:"outlined",label:"Skills",placeholder:"Select Two Skills"}))},onChange:function(e,t){t.length<3?(u(t),k(Object(sn.a)({},O,Object(nn.a)({},"skills",JSON.stringify(t))))):F("you can't select more than two skills")},value:l})):null,r.a.createElement(d.a,{item:!0,xs:12},O.pictures?r.a.createElement("img",{style:{width:"300px",height:"300px"},src:O.pictures}):r.a.createElement(fn.a,{withPreview:!0,withIcon:!0,onChange:P,singleImage:!0,imgExtension:[".jpg",".gif",".png",".jpeg"],maxFileSize:5242880}))),r.a.createElement(d.a,{container:!0,direction:"row",justify:"flex-end",alignItems:"center"},r.a.createElement(Ct.a,{disabled:C,variant:"contained",color:"primary",className:n.button,onClick:p},"next")),r.a.createElement(bn.TVBackdrop,{open:R}),r.a.createElement(wt,{variant:"error",message:$,setMessage:function(e){return q(e)}})))},En=n(905),yn=n(122),On=n.n(yn),kn=n(216),jn=n(213),wn=(n(196),Object(k.a)((function(e){return{buttons:{display:"flex",justifyContent:"flex-end"},button:{marginTop:e.spacing(3),marginLeft:e.spacing(1)},date:{display:"block",boxShadow:"none",margin:"10px 0 5px 0",padding:"10px 14px",fontFamily:"Roboto,sans-serif",fontWeight:400,fontSize:16,lineHeight:1.43,borderBottom:"1px solid rgba(0, 0, 0, 0.42)"}}}))),Cn=[{value:"Paypal",label:"Paypal"},{value:"Venmo",label:"Venmo"}],xn=function(e){var t=wn(),n=function(e){var t=e.target,n=t.name,a=t.value;if("secondaryPaymentType"==n||"dob"==n||"secondaryPayment"==n)f(Object(sn.a)({},p,Object(nn.a)({},n,a)));else{(""===e.target.value||/^[0-9\b]+$/.test(e.target.value))&&f(Object(sn.a)({},p,Object(nn.a)({},n,a)))}var r=p.routingNumber,i=p.bankAccountNumber;if("reroutingNumber"===n&&a.length>0&&s(a!==r?Object(sn.a)({},c,Object(nn.a)({},n,a)):Object(sn.a)({},c,Object(nn.a)({},n,""))),"rebankAccountNumber"===n&&a.length>0&&s(a!==i?Object(sn.a)({},c,Object(nn.a)({},n,a)):Object(sn.a)({},c,Object(nn.a)({},n,""))),"ssn"===n&&a.length>0&&(9===a.length?s(Object(sn.a)({},c,Object(nn.a)({},n,""))):s(Object(sn.a)({},c,Object(nn.a)({},n,a)))),"secondaryPayment"===n&&a.length>0){/\S+@\S+\.\S+/.test(e.target.value)?s(Object(sn.a)({},c,Object(nn.a)({},n,""))):s(Object(sn.a)({},c,Object(nn.a)({},n,a)))}},i=Object(a.useState)({routingNumber:"",bankAccountNumber:"",ssn:"",backgroundcheck:!1,secondaryPayment:"",secondaryPaymentType:"",dob:"",reroutingNumber:"",rebankAccountNumber:""}),o=Object(m.a)(i,2),c=o[0],s=o[1];Object(a.useEffect)((function(){if(e.payment){var t=JSON.parse(e.payment);t.dob=new Date(t.dob),f(JSON.parse(e.payment))}}),[e.payment]);var l=Object(a.useState)({routingNumber:"",bankAccountNumber:"",ssn:"",backgroundcheck:!1,secondaryPayment:"",secondaryPaymentType:"",dob:"",reroutingNumber:"",rebankAccountNumber:""}),u=Object(m.a)(l,2),p=u[0],f=u[1],b=Object(a.useState)(""),g=Object(m.a)(b,2),v=g[0],h=g[1],E=Object(a.useCallback)((function(e){h(e)}),[]),O=Object(a.useState)(!0),k=Object(m.a)(O,2),j=k[0],w=k[1];return Object(a.useEffect)((function(){var e=p.routingNumber,t=p.bankAccountNumber,n=p.ssn,a=p.dob;w(!(e&&t&&n&&a))}),[p]),r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{variant:"h6",gutterBottom:!0},"Payment method"),r.a.createElement(d.a,{container:!0,spacing:1},r.a.createElement(d.a,{item:!0,xs:12,md:6},r.a.createElement($t.a,{required:!0,id:"routingNumber",name:"routingNumber",label:"Routing Number",onChange:n,value:p.routingNumber,fullWidth:!0})),r.a.createElement(d.a,{item:!0,xs:12,md:6},r.a.createElement($t.a,{required:!0,id:"reroutingNumber",name:"reroutingNumber",label:"Reenter Routing Number",fullWidth:!0,onChange:n,value:p.reroutingNumber,error:c.reroutingNumber.length>1||void 0,helperText:c.reroutingNumber.length>1?"Routing number mismatch":void 0})),r.a.createElement(d.a,{item:!0,xs:12,md:6},r.a.createElement($t.a,{required:!0,id:"bankAccountNumber",name:"bankAccountNumber",label:"Bank Account Number",onChange:n,value:p.bankAccountNumber,fullWidth:!0})),r.a.createElement(d.a,{item:!0,xs:12,md:6},r.a.createElement($t.a,{required:!0,id:"rebankAccountNumber",name:"rebankAccountNumber",label:"Reenter Bank Account Number",fullWidth:!0,onChange:n,value:p.rebankAccountNumber,error:c.rebankAccountNumber.length>1||void 0,helperText:c.rebankAccountNumber.length>1?"Bank Account Number mismatached":void 0})),r.a.createElement(En.a,{variant:"middle"}),r.a.createElement(d.a,{item:!0,xs:12},r.a.createElement($t.a,{required:!0,id:"ssn",name:"ssn",label:"Enter SSN for Background Check*",error:c.ssn.length>1||void 0,helperText:c.ssn.length>1?"SSN should 9 digits":void 0,fullWidth:!0,onChange:n,value:p.ssn})),r.a.createElement(d.a,{item:!0,xs:12,md:6},r.a.createElement("label",null,"Select Your Date of Birth *:"),r.a.createElement(On.a,{selected:Date.parse(p.dob),onChange:function(e){console.log("event",e),f(Object(sn.a)({},p,Object(nn.a)({},"dob",e)))},maxDate:Object(jn.default)(new Date,18),placeholderText:"Click to select a date",dateFormat:"yyyy-MM-dd",className:t.date,popperClassName:"some-custom-class",popperPlacement:"top-end",showYearDropdown:!0,dateFormatCalendar:"MMMM",yearDropdownItemNumber:15,scrollableYearDropdown:!0,popperModifiers:{offset:{enabled:!0,offset:"5px, 10px"},preventOverflow:{enabled:!0,escapeWithReference:!1,boundariesElement:"viewport"}}})),r.a.createElement(En.a,null),r.a.createElement(d.a,{item:!0,xs:12},r.a.createElement($t.a,{id:"secondaryPaymentType",name:"secondaryPaymentType",label:"SecondPaymentType",select:!0,value:p.secondaryPaymentType,onChange:n,SelectProps:{native:!0},helperText:"Please select Secondary Payment",variant:"outlined"},Cn.map((function(e){return r.a.createElement("option",{key:e.value,value:e.value},e.label)})))),r.a.createElement(d.a,{item:!0,xs:12},r.a.createElement($t.a,{required:!0,id:"secondaryPayment",name:"secondaryPayment",label:"Enter Your Email for Secondary Payment",fullWidth:!0,onChange:n,value:p.secondaryPayment,error:c.secondaryPayment.length>1||void 0,helperText:c.secondaryPayment.length>1?"Email Id in wrong format":void 0})),r.a.createElement(d.a,{container:!0,direction:"row",justify:"flex-end",alignItems:"center"},r.a.createElement("div",{className:t.buttons},r.a.createElement(Ct.a,{variant:"contained",onClick:e.backButton,className:t.button},"Back"),r.a.createElement(Ct.a,{disabled:j,variant:"contained",color:"primary",onClick:function(){var t=p.routingNumber,n=p.bankAccountNumber,a=p.ssn,r=p.reroutingNumber,i=p.rebankAccountNumber;return r!==t?(h("Routing number mismattched"),void w(!0)):n!==i?(h("Account number mismattched"),void w(!0)):t.length<6?(h("routing number should be greater then 6 digits."),void w(!0)):n.length<6?(h("bank account number should be greater then 6 digits."),void w(!0)):a.length<2?(h("SSN Number missing"),void w(!0)):void e.nextButton(JSON.stringify(Object(sn.a)({},p,{dob:new Date(p.dob),checkr_dob:Object(kn.default)(new Date(p.dob),"yyyy-MM-dd")})))},className:t.button},"Save")))),r.a.createElement(wt,{variant:"error",message:v,setMessage:function(e){return E(e)}}))},Sn=Object(k.a)((function(e){return Object(j.a)({appBar:{top:"auto",bottom:0},paper:{paddingBottom:50},root:{display:"flex",flexDirection:"column",minHeight:"90vh"},appBarSpacer:e.mixins.toolbar,stickToBottom:{},main:{flexGrow:1,display:"flex",minHeight:"90vh",paddingLeft:10,paddingRight:10,paddingTop:5},rootB:{}})})),Nn=function(e){var t=e.title,n=e.children,i=e.header;Object(a.useEffect)((function(){document.title=t}));Object(u.g)(),r.a.useContext(s.a);var o=Sn(),c=r.a.useState("home"),l=Object(m.a)(c,2);l[0],l[1];return r.a.createElement(E,null,r.a.createElement(r.a.Fragment,null,r.a.createElement(tt.a,null),r.a.createElement(et,{header:i}),r.a.createElement("main",null,r.a.createElement("div",{className:o.appBarSpacer}),r.a.createElement(an.a,{square:!0,className:o.paper},r.a.createElement(O.a,{className:o.main},n))),r.a.createElement(U.a,{position:"fixed",color:"primary",className:o.appBar})))},In=n(320),Tn=n(837),_n=n(77),Un=n(178),Pn=function(){var e=Object(T.a)(I.a.mark((function e(t,n){var a,r;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={response:!0,body:{email:t,phone:n},headers:{}},e.next=3,M.a.post("stripeapi","/stripe/createcustomer",a);case 3:return r=e.sent,console.log("setupIntents",r),e.abrupt("return",{customerId:r.data.url.id,customerKey:r.data.intent.client_secret});case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),An=function(){var e=Object(T.a)(I.a.mark((function e(t,n){var a,r;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={response:!0,body:{customerId:t,money:100*parseFloat(n)},headers:{}},e.next=3,M.a.post("stripeapi","/stripe/createpayment",a);case 3:r=e.sent,console.log("setupIntents",r);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Dn=function(){var e=Object(T.a)(I.a.mark((function e(t,n){var a,r,i;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.a.graphql(Object(M.i)(se,{id:t}));case 2:if(!(a=e.sent).data.getUser){e.next=10;break}return r=a.data.getUser,i=JSON.parse(r.cardInfo),console.log("payment completed",r,i),e.next=9,An(i.customerId,n);case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Rn=(n(819),Object(k.a)((function(e){return{buttons:{display:"flex",justifyContent:"flex-end"},button:{marginTop:e.spacing(3),marginLeft:e.spacing(1)}}}))),Bn=function(e){var t=Object(_n.useStripe)(),n=Object(_n.useElements)(),a=Rn(),i=r.a.useContext(s.a),o=r.a.useState(!1),c=Object(m.a)(o,2),l=c[0],u=c[1];r.a.useEffect((function(){}),[e.payment]);var p=function(){var a=Object(T.a)(I.a.mark((function a(r){var o,c,s,l;return I.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(r.preventDefault(),t&&n){a.next=3;break}return a.abrupt("return");case 3:if(!(O.name.length<2)){a.next=6;break}return h("Enter Name"),a.abrupt("return");case 6:return u(!0),o=i.user.attributes.phone_number,c=i.user.attributes.email,a.next=11,Pn(c,o);case 11:return s=a.sent,a.next=14,t.confirmCardSetup(s.customerKey,{payment_method:{card:n.getElement(_n.CardNumberElement),billing_details:{name:O.name}}});case 14:(l=a.sent).error?(h(l.error.message),console.log("esult.setupIntent.payment_method",l)):(console.log("esult.setupIntent.payment_method",l.setupIntent),u(!1),e.nextButton(JSON.stringify(Object(sn.a)({},s,{name:O.name}))));case 16:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),f=r.a.useMemo((function(){return{style:{base:{fontSize:"16px",color:"#424770",letterSpacing:"0.025em",fontFamily:"Source Code Pro, monospace","::placeholder":{color:"#aab7c4"}},invalid:{color:"#9e2146"}}}}),["16px"]),b=r.a.useState(""),g=Object(m.a)(b,2),v=g[0],h=g[1],E=r.a.useState({cardNumber:"",expiry:"",cvc:"",name:""}),y=Object(m.a)(E,2),O=y[0],k=y[1],j=r.a.useCallback((function(e){h(e)}),[]);return r.a.createElement("form",{onSubmit:p},e.payment&&e.payment.length>0?r.a.createElement(d.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement("div",null," Currently, you will not be able to change your payment details here. Contact us at contact@travtail.com to request for changes to your payment details.")):r.a.createElement(d.a,{container:!0,spacing:1},r.a.createElement(d.a,{item:!0,xs:12,sm:6},r.a.createElement($t.a,{required:!0,id:"firstName",name:"firstName",label:"Full Name as per Credit card",fullWidth:!0,onChange:function(e){var t=e.target.value;k(Object(sn.a)({},O,{name:t}))},value:O.name,autoComplete:"fname"})),r.a.createElement(d.a,{item:!0,xs:12,sm:6},r.a.createElement("label",null,"Card number",r.a.createElement(_n.CardNumberElement,{options:f,onReady:function(){console.log("CardNumberElement [ready]")},onChange:function(e){console.log("CardNumberElement [change]",e)},onBlur:function(){console.log("CardNumberElement [blur]")},onFocus:function(){console.log("CardNumberElement [focus]")}}))),r.a.createElement(d.a,{item:!0,xs:12,sm:6},r.a.createElement("label",null,"Expiration date",r.a.createElement(_n.CardExpiryElement,{options:f,onReady:function(){console.log("CardNumberElement [ready]")},onChange:function(e){console.log("CardNumberElement [change]",e)},onBlur:function(){console.log("CardNumberElement [blur]")},onFocus:function(){console.log("CardNumberElement [focus]")}}))),r.a.createElement(d.a,{item:!0,xs:12,sm:6},r.a.createElement("label",null,"CVC",r.a.createElement(_n.CardCvcElement,{options:f,onReady:function(){console.log("CardNumberElement [ready]")},onChange:function(e){console.log("CardNumberElement [change]",e)},onBlur:function(){console.log("CardNumberElement [blur]")},onFocus:function(){console.log("CardNumberElement [focus]")}}))),r.a.createElement(d.a,{container:!0,direction:"row",justify:"flex-end",alignItems:"center"},r.a.createElement("div",{className:a.buttons},r.a.createElement(Ct.a,{variant:"contained",onClick:e.backButton,className:a.button},"Back"),r.a.createElement(Ct.a,{disabled:!t,variant:"contained",color:"primary",onClick:p,className:a.button},"Save"))),r.a.createElement(wt,{variant:"error",message:v,setMessage:function(e){return j(e)}})),r.a.createElement(bn.TVBackdrop,{open:l}))},Ln=Object(Un.a)("pk_test_Wks4vayZlORiZoodc5IA0RhA00RaDpuklR");Ln="github"!==Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_SECRET_CODE?Object(Un.a)("pk_live_MwU71H90UfINPNxAcboGFHlp009uyMDvzF"):Object(Un.a)("pk_test_Wks4vayZlORiZoodc5IA0RhA00RaDpuklR");var Jn=function(e){return r.a.createElement(_n.Elements,{stripe:Ln},r.a.createElement(Bn,{address:e.address,payment:e.payment,nextButton:e.nextButton,backButton:e.backButton}))},$n=Object(k.a)((function(e){return{appBar:{position:"relative"},layout:Object(nn.a)({width:"auto"},e.breakpoints.up(600+2*e.spacing(2)),{width:600,marginLeft:"auto",marginRight:"auto"}),paper:Object(nn.a)({marginTop:e.spacing(3),marginBottom:e.spacing(3),padding:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(3)),{marginTop:e.spacing(6),marginBottom:e.spacing(6),padding:e.spacing(3)}),stepper:{padding:e.spacing(3,0,5)},buttons:{display:"flex",justifyContent:"flex-end"},button:{marginTop:e.spacing(3),marginLeft:e.spacing(1)},backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}})),Fn=function(){var e=$n(),t=r.a.useState(0),n=Object(m.a)(t,2),i=n[0],o=n[1],c=r.a.useState(""),l=Object(m.a)(c,2),d=l[0],p=l[1],f=r.a.useState(""),b=Object(m.a)(f,2),g=b[0],v=b[1],h=Object(a.useState)(""),E=Object(m.a)(h,2),O=E[0],k=E[1],j=Object(a.useState)(!0),w=Object(m.a)(j,2),C=w[0],x=w[1],S=Object(u.g)(),N=r.a.useContext(s.a),_=Object(a.useState)(!1),U=Object(m.a)(_,2),P=U[0],A=U[1],D=r.a.useState(!1),R=Object(m.a)(D,2),B=R[0],L=R[1],J=["Your Information","Payment Details"];Object(a.useEffect)((function(){"github"!==Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_SECRET_CODE||navigator.geolocation.getCurrentPosition((function(e){console.log("position",e),e.coords.latitude&&e.coords.longitude||k("longitude and latitude missing")}),(function(e){k(e.message)}),{enableHighAccuracy:!0,timeout:2e4,maximumAge:1e3})}),[]),Object(a.useEffect)((function(){if(N&&N.userId&&N.user){var e=N.user.attributes["custom:account_type"];A("Customer"!==e);var t=se,n=N.userId;!function(){var e=Object(T.a)(I.a.mark((function e(){var a;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.a.graphql(Object(M.i)(t,{id:n}));case 2:a=e.sent,console.log("fetchDate",a),a.data.getUser&&(x(!1),W(a.data.getUser),p(a.data.getUser.address),v(a.data.getUser.cardInfo));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}}),[N.userId]);var $=r.a.useState(),F=Object(m.a)($,2),q=F[0],W=F[1],z=function(){var e=Object(T.a)(I.a.mark((function e(t){var n,a,r,i;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return L(!0),n=N.userId,a=N.user.attributes["custom:account_type"],r=C?Je:Le,e.next=6,M.a.graphql(Object(M.i)(r,{input:{id:n,username:JSON.parse(d).firstName,registered:"yes",active:"Customer"===a||!!(null===q||void 0===q?void 0:q.active),usertype:"Customer"===a?"Customer":"Employee",address:d,zipcode:JSON.parse(d).zip,latitudes:JSON.parse(d).latitudes,longitudes:JSON.parse(d).longitudes,aboutme:JSON.parse(d).aboutme,avatar:JSON.parse(d).pictures,cardInfo:t,county:JSON.parse(d).county,skills:JSON.parse(d).skills}}));case 6:i=e.sent,console.log("response",i),L(!1),S.push("/"),M.b.record({name:C?"createProfile":"updateProfile",attributes:{id:n}});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),H=function(){var e=Object(T.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("nextButton",t),0!=i){e.next=5;break}p(t),e.next=9;break;case 5:if(1!=i){e.next=9;break}return v(t),z(t),e.abrupt("return");case 9:Y();case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var Y=function(){o(i+1)},V=function(){o(i-1)},G=Object(a.useCallback)((function(e){k(e)}),[]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(Nn,{title:"Profile List",header:"profile"},r.a.createElement(tt.a,null),r.a.createElement("main",{className:e.layout},r.a.createElement(an.a,{className:e.paper},r.a.createElement(rn.a,{activeStep:i,className:e.stepper},J.map((function(e){return r.a.createElement(on.a,{key:e},r.a.createElement(cn.a,null,e))}))),r.a.createElement(r.a.Fragment,null,i===J.length?r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{variant:"h5",gutterBottom:!0},"Need Update BackEnd.")):r.a.createElement(r.a.Fragment,null,function(e){switch(e){case 0:return r.a.createElement(hn,{address:d,nextButton:H});case 1:return P?r.a.createElement(xn,{payment:g,nextButton:H,backButton:V}):r.a.createElement(Jn,{address:d,payment:g,nextButton:H,backButton:V});default:throw new Error("Unknown step")}}(i)))))),r.a.createElement(wt,{variant:"error",message:O,setMessage:function(e){return G(e)}}),r.a.createElement(In.a,{className:e.backdrop,open:B},r.a.createElement(Tn.a,{color:"inherit"})))},qn=n(85),Wn=n(147),Mn=n(930),zn=n(103),Hn=n(102),Yn=n(83),Vn=Object(k.a)((function(e){return{appBar:{position:"relative"},layout:Object(nn.a)({width:"auto"},e.breakpoints.up(600+2*e.spacing(2)),{width:600,marginLeft:"auto",marginRight:"auto"}),paper:Object(nn.a)({marginTop:e.spacing(3),marginBottom:e.spacing(3),padding:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(3)),{marginTop:e.spacing(6),marginBottom:e.spacing(6),padding:e.spacing(3)}),buttons:{display:"flex",justifyContent:"flex-end"},button:{marginTop:e.spacing(3),marginLeft:e.spacing(1)},time:{display:"block",margin:"10px 0 5px 0",padding:"10px 14px"},date:{display:"block",boxShadow:"none",margin:"10px 0 5px 0",padding:"10px 14px",fontFamily:"Roboto,sans-serif",fontWeight:400,fontSize:16,lineHeight:1.43,width:250,borderBottom:"1px solid rgba(0, 0, 0, 0.42)"},jobtype:{marginTop:15},backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}})),Gn=function(){var e=Vn(),t=function(e){var t=e.target,n=t.name,a=t.value;if("price"==n){var r=/^\d{1,8}(?:\.\d{1,4})?$/.test(a);(""===e.target.value||a.endsWith(".")||r)&&h(Object(sn.a)({},v,Object(nn.a)({},n,a)))}else h(Object(sn.a)({},v,Object(nn.a)({},n,a)))},n=Object(u.g)(),i=r.a.useContext(s.a),o=r.a.useState(!1),c=Object(m.a)(o,2),l=c[0],p=c[1],f=function(){var e=Object(T.a)(I.a.mark((function e(){var t,a,r,o,c,s,l,u;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("createNewTicket",v),p(!0),a=i.userId,r=i.user.attributes.phone_number,o=i.user.attributes.email,c=JSON.stringify({email:o,phoneNumber:r}),s=[],!(P.length>0)){e.next=11;break}return e.next=10,Object(Wn.c)(P);case 10:s=e.sent;case 11:return l=Object(qn.uuid)(),e.next=14,M.a.graphql(Object(M.i)(Ae,{input:{id:l,countAndId:"".concat(v.county,"_").concat(l),price:v.price,time:v.time,title:v.title,content:v.content,destination:v.destination?v.destination:v.source,source:null!==(t=v.source)&&void 0!==t?t:"Davidson County",county:v.county,ticketFilter:"".concat(v.county,"_").concat(v.category),ownerUploadImages:JSON.stringify(s),ticketUserId:a,status:"open",ticketType:v.ticketType,ticketUserInfo:c,category:v.category}}));case 14:return u=e.sent,new M.f("foo").info("ticketcreated",u),e.next=19,M.a.graphql(Object(M.i)(Ue,{input:{id:Object(qn.uuid)(),ticketID:l,userID:a}}));case 19:e.sent,M.b.record({name:"ticketCreated",attributes:{ticketID:l,county:v.county,ticketType:v.ticketType,ticketUserId:a}}),p(!1),n.push("/");case 23:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=Object(a.useState)({content:"",price:"",title:"",source:"",destination:"",time:"",county:"",daytime:"",terms:!1,category:"",ticketType:""}),g=Object(m.a)(b,2),v=g[0],h=g[1],E=Object(a.useState)(!0),O=Object(m.a)(E,2),k=O[0],j=O[1];Object(a.useEffect)((function(){var e=v.content,t=v.title,n=v.price,a=v.time,r=v.terms,i=v.ticketType,o=v.category;console.log("category",o);var c=(new Date).getTime()<new Date(a).getTime();a&&!c&&(W("Choose a time that is greater than the current time"),h(Object(sn.a)({},v,{time:""}))),j(!(e&&t&&n&&c&&r&&i&&o))}),[v]);var w=Object(a.useState)(!1),C=Object(m.a)(w,2),x=C[0],S=C[1],N=function(e){var t=e.target,n=t.name,a=t.checked;"destAddress"===n?S(!!a):h(a?Object(sn.a)({},v,{terms:!0}):Object(sn.a)({},v,{terms:!1}))},_=Object(a.useState)([]),U=Object(m.a)(_,2),P=U[0],A=U[1],D=Object(a.useState)({}),R=Object(m.a)(D,2),B=(R[0],R[1],function(){var e=Object(T.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:A(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),L=Object(a.useState)(""),J=Object(m.a)(L,2),$=(J[0],J[1],Object(a.useState)("")),F=Object(m.a)($,2),q=F[0],W=F[1],z=r.a.useCallback((function(e){W(e)}),[]),H=ln.map((function(e){return e.value})),Y=r.a.useState(""),V=Object(m.a)(Y,2),G=V[0],K=V[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(Nn,{title:"Travtail Serverless"},r.a.createElement(tt.a,null),r.a.createElement("main",{className:e.layout},r.a.createElement(an.a,{className:e.paper},r.a.createElement(y.a,{variant:"h6",gutterBottom:!0},"Job Details"),r.a.createElement(d.a,{container:!0,spacing:1},r.a.createElement(d.a,{item:!0,xs:12},r.a.createElement($t.a,{required:!0,id:"title",name:"title",label:"Title",fullWidth:!0,onChange:t,value:v.title,autoComplete:"title"})),r.a.createElement(d.a,{item:!0,xs:12},r.a.createElement(It.a,{className:e.jobtype,component:"fieldset"},r.a.createElement(Ht.a,{component:"legend"},"Job Type"),r.a.createElement(Mt.a,{row:!0,"aria-label":"position",value:v.ticketType,onChange:function(e){h(Object(sn.a)({},v,Object(nn.a)({},"ticketType",e.target.value)))}},r.a.createElement(zt.a,{value:"Normal",control:r.a.createElement(Wt.a,null),label:"Normal"}),r.a.createElement(zt.a,{value:"Bid",control:r.a.createElement(Wt.a,null),label:"Bid"})))),r.a.createElement(d.a,{item:!0,xs:12},r.a.createElement(gn.a,{value:v.category,onChange:function(e,t){h(Object(sn.a)({},v,Object(nn.a)({},"category",null!==t&&void 0!==t?t:"")))},inputValue:G,onInputChange:function(e,t){K(t)},id:"controllable-states-demo",options:H,style:{width:300},renderInput:function(e){return r.a.createElement($t.a,Object.assign({},e,{label:"Service category",variant:"outlined"}))}})),r.a.createElement(d.a,{item:!0,xs:12},r.a.createElement($t.a,{required:!0,id:"price",name:"price",label:"Price",fullWidth:!0,onChange:t,value:v.price,autoComplete:"price",InputProps:{startAdornment:r.a.createElement(Ut.a,{position:"start"},"$")}}),r.a.createElement("a",{target:"_blank",href:"http://travtail.app/pricing"},"Recommended Prices"),"."),r.a.createElement(d.a,{item:!0,xs:12},r.a.createElement(mn,{label:"Start Location",googleAddressReturn:function(e){var t=dn(e);h(Object(sn.a)({},v,{source:t.formatted_address,county:t.county}))}})),r.a.createElement(d.a,{item:!0,xs:12},r.a.createElement(zt.a,{control:r.a.createElement(Xe.a,{title:"Delete"},r.a.createElement(Mn.a,{checked:x,onChange:N,name:"destAddress",color:"primary"})),label:"I have a different end location"})),x?r.a.createElement(d.a,{item:!0,xs:12,sm:6},r.a.createElement(mn,{label:"Destination/End Location",googleAddressReturn:function(e){var t=dn(e);h(Object(sn.a)({},v,{destination:t.formatted_address}))}})):null,r.a.createElement(d.a,{item:!0,xs:12},r.a.createElement("label",null,"Time:*"),r.a.createElement(On.a,{selected:v.time,onChange:function(e){console.log("handleTimeChange",e),h(Object(sn.a)({},v,Object(nn.a)({},"time",e)))},showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:15,timeCaption:"time",minTime:Object(zn.default)(Object(Hn.default)(new Date,0),7),maxTime:Object(zn.default)(Object(Hn.default)(new Date,30),22),minDate:new Date,maxDate:Object(Yn.default)(new Date,30),placeholderText:"Click to select a date",dateFormat:"MMMM d, yyyy h:mm aa",className:e.date,popperClassName:"some-custom-class",popperPlacement:"top-end",popperModifiers:{offset:{enabled:!0,offset:"5px, 10px"},preventOverflow:{enabled:!0,escapeWithReference:!1,boundariesElement:"viewport"}}})),r.a.createElement(d.a,{item:!0,xs:12},r.a.createElement($t.a,{multiline:!0,rows:"6",required:!0,id:"content",name:"content",label:"Content",fullWidth:!0,onChange:t,value:v.content,autoComplete:"content"})),r.a.createElement(d.a,{item:!0,xs:12},r.a.createElement(fn.a,{withPreview:!0,withIcon:!0,onChange:B,imgExtension:[".jpg",".gif",".png",".jpeg"],maxFileSize:15242880})),r.a.createElement(d.a,{item:!0,xs:12},r.a.createElement(zt.a,{control:r.a.createElement(Xe.a,{title:"Delete"},r.a.createElement(Mn.a,{checked:v.terms,onChange:N,name:"checkedB",color:"primary"})),label:"Terms of Service"}),r.a.createElement("br",null),"By requesting this service on Travtail, you agree to our terms of service. For questions about our terms of service, please visit ",r.a.createElement("a",{target:"_blank",href:"https://travtail.app/tos"},"travtail"),"."),r.a.createElement(d.a,{container:!0,direction:"row",justify:"flex-end",alignItems:"center"},r.a.createElement(Ct.a,{disabled:k,variant:"contained",color:"primary",className:e.button,onClick:f},"Create Request"))))),r.a.createElement(wt,{variant:"error",message:q,setMessage:function(e){return z(e)}}),r.a.createElement(In.a,{className:e.backdrop,open:l},r.a.createElement(Tn.a,{color:"inherit"}))))},Kn=n(222),Zn=n(901),Xn=n(910),Qn=n(911),ea=n(904);function ta(){var e=Object(z.a)(["\n  subscription OnUpdateConvoLink($convoLinkUserId: ID, $status: String) {\n    onUpdateConvoLink(convoLinkUserId: $convoLinkUserId, status: $status) {\n      id\n      name\n      status\n      conversation {\n        id\n        name\n        createdAt\n        associated {\n          items {\n            convoLinkUserId\n            user {\n              id\n              username\n            }\n          }\n        }\n      }\n    }\n  }\n"]);return ta=function(){return e},e}function na(){var e=Object(z.a)(["\n  subscription onUpdatedTicketByUser($ticketUserId: String!) {\n    onUpdatedTicketByUser(ticketUserId: $ticketUserId) {\n      id\n      content\n      time\n      destination\n      ticketType\n      price\n      category\n      title\n      county\n      source\n      status\n      ticketFilter\n      ticketUserId\n      ticketEmployeeId\n      ticketEmployeeInfo\n      empClosedComment\n      empClosedTime\n      execptedPrice\n      userClosedComment\n    }\n  }\n"]);return na=function(){return e},e}function aa(){var e=Object(z.a)(["\n  subscription OnUpdatedTicket($ticketFilter: String!) {\n    onUpdatedTicket(ticketFilter: $ticketFilter) {\n      id\n      content\n      time\n      category\n      destination\n      ticketType\n      price\n      title\n      county\n      source\n      status\n      ticketFilter\n      ticketUserId\n      ticketEmployeeId\n      ticketEmployeeInfo\n      empClosedComment\n      empClosedTime\n      execptedPrice\n      userClosedComment\n    }\n  }\n"]);return aa=function(){return e},e}function ra(){var e=Object(z.a)(["\n  subscription OnCreateTicket($ticketFilter: String!) {\n    onCreateTicket(ticketFilter: $ticketFilter) {\n      id\n      countAndId\n      ticketUserId\n      category\n      owner\n      content\n      time\n      destination\n      price\n      title\n      county\n      source\n      status\n      ticketEmployeeInfo\n      ticketEmployeeId\n      ticketUserInfo\n      ownerUploadImages\n      employeeUploadImages\n      empClosedComment\n      ticketType\n      ticketFilter\n      execptedPrice\n      userClosedComment\n    }\n  }\n"]);return ra=function(){return e},e}function ia(){var e=Object(z.a)(["\n  subscription OnCreateMessage($messageConversationId: ID!) {\n    onCreateMessage(messageConversationId: $messageConversationId) {\n      id\n      content\n      createdAt\n      owner\n      chatbot\n      isSent\n      file\n      messageConversationId\n      conversation {\n        id\n        name\n        createdAt\n      }\n    }\n  }\n"]);return ia=function(){return e},e}var oa=Y()(ia()),ca=Y()(ra()),sa=Y()(aa()),la=Y()(na()),ua=(Y()(ta()),function(e,t){return(t.execptedPrice?JSON.parse(t.execptedPrice):[]).filter((function(t){return t.serviceProvider===e})).length>0}),ma=function(e,t){var n=(t.execptedPrice?JSON.parse(t.execptedPrice):[]).filter((function(t){return t.serviceProvider===e}));return n.length>0?n[0]:void 0},da=n(836),pa=n(909),fa=n(907),ba=n(100),ga=n(908),va=n(934),ha=n(926),Ea={.5:"Useless",1:"Useless+",1.5:"Poor",2:"Poor+",2.5:"Ok",3:"Ok+",3.5:"Good",4:"Good+",4.5:"Excellent",5:"Excellent+"},ya=function(e){var t=e.openPop,n=e.type,a=e.closeAlert,i=r.a.useState(!0),o=Object(m.a)(i,2),c=o[0],s=o[1],l=r.a.useState({comments:"",review:"",rating:""}),u=Object(m.a)(l,2),d=u[0],p=u[1];r.a.useEffect((function(){var e=d.comments,t=d.review,a=d.rating;s("completed"===n||"Added Review"===n?!(e&&t&&a):!e)}),[d,n]);var f=function(e){var t=e.target,n=t.name,a=t.value;p(Object(sn.a)({},d,Object(nn.a)({},n,a)))},b=function(){a(!0,{comments:d.comments,review:d.review,rating:d.rating})},g=function(){a(!1,"")},v=r.a.useState(0),h=Object(m.a)(v,2),E=h[0],O=h[1],k=r.a.useState(0),j=Object(m.a)(k,2),w=j[0],C=j[1];return"unassign"===n||"closed"===n?"unassign"===n?"Unassign":"Closed":"completed"===n?"Completed":"Added Review",r.a.createElement("div",null,r.a.createElement(da.a,{open:t,keepMounted:!0,fullWidth:!0,maxWidth:"lg",onClose:g,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description"},"unassign"===n||"closed"===n?r.a.createElement("div",null,r.a.createElement(ba.a,{id:"alert-dialog-slide-title",onClose:g},"Cancel Job?"),r.a.createElement(fa.a,null,r.a.createElement(ga.a,{id:"alert-dialog-slide-description"},"unassign"===n?"Do you want to cancel an in-progress service request?":"Are you sure you want to cancel the job?"," ",r.a.createElement("br",null),"Reason for Canceling"),r.a.createElement($t.a,{multiline:!0,rows:"2",required:!0,id:"comments",autoFocus:!0,name:"comments",label:"Cancellation Comments",fullWidth:!0,value:d.comments,onChange:f,autoComplete:"content"})),r.a.createElement(pa.a,null,r.a.createElement(Ct.a,{variant:"contained",disabled:c,onClick:b,color:"secondary"},"unassign"===n?"Unassign Ticket":"Close Ticket"))," "):r.a.createElement("div",null,r.a.createElement(ba.a,{id:"alert-dialog-slide-title",onClose:g},"Feedback, Rating and Review"),r.a.createElement(fa.a,null,r.a.createElement(ga.a,{id:"alert-dialog-slide-description"},"Private Review to Travtail."),r.a.createElement($t.a,{multiline:!0,rows:"3",required:!0,autoFocus:!0,id:"comments",name:"comments",label:"Private Review Comments",fullWidth:!0,value:d.comments,onChange:f,autoComplete:"content"}),r.a.createElement("span",null,r.a.createElement(y.a,{style:{color:"#3f51b5",fontWeight:900,marginTop:20},variant:"h6"},"completed"===n?"Service Provider":"Customer"," Rating and Review"),r.a.createElement(ha.a,{style:{padding:0,marginTop:10},component:"fieldset",mb:3,borderColor:"transparent"},r.a.createElement(y.a,{component:"legend"},"Rating"),r.a.createElement(va.a,{name:"hover-feedback",value:E,precision:.5,onChange:function(e,t){O(null!==t&&void 0!==t?t:0),p(Object(sn.a)({},d,Object(nn.a)({},"rating",String(t))))},onChangeActive:function(e,t){C(t)}}),null!==E&&r.a.createElement(ha.a,{ml:2},Ea[-1!==w?w:E]),r.a.createElement($t.a,{multiline:!0,rows:"3",required:!0,autoFocus:!0,id:"content",name:"review",label:"Review",fullWidth:!0,value:d.review,onChange:f,autoComplete:"content"})))),r.a.createElement(pa.a,null,r.a.createElement(Ct.a,{variant:"contained",disabled:c,onClick:b,color:"primary"},"completed"===n?"Completed":"Added Review"))," ")))},Oa=n(148),ka=n(933),ja=n(221),wa=n.n(ja),Ca=n(309),xa=n.n(Ca),Sa=n(171),Na=n.n(Sa),Ia=n(126),Ta=(n(195),n(9)),_a=Object(Ta.a)((function(e){return Object(j.a)({root:{margin:0,color:"#fff"},list:{paddingLeft:0,paddingRight:0},title:{color:"#fff",backgroundColor:"#3f51b5"},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},subHeader:{fontSize:"1rem",fontWeight:900,paddingLeft:0,paddingRight:0,color:"#3f51b5"},inline:{display:"inline"}})}))((function(e){var t=e.classes,n=e.rating,a=e.reviews,i=e.name;Object(l.a)(e,["classes","rating","reviews","name"]);return r.a.createElement(d.a,{container:!0,direction:"column"},r.a.createElement(ha.a,{style:{color:"#3f51b5",fontWeight:900,padding:0,marginLeft:0,marginTop:20},component:"fieldset",mb:3,borderColor:"transparent"},r.a.createElement(y.a,{style:{color:"#3f51b5",fontWeight:900,padding:0,marginLeft:0,marginTop:20},component:"legend"},i,"'s  Rating"),r.a.createElement(va.a,{name:"read-only",value:n,readOnly:!0})),r.a.createElement(Zn.a,{component:"nav","aria-labelledby":"nested-list-subheader",subheader:r.a.createElement(ea.a,{className:t.subHeader,component:"div",id:"nested-list-subheader"},i,"'s Reviews"),className:t.root},a.length>0?a.map((function(e){return r.a.createElement("div",{key:e.id},r.a.createElement(Xn.a,{className:t.list,key:e.id,alignItems:"flex-start"},r.a.createElement(Qn.a,{primary:r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{component:"span",variant:"body2",className:t.inline,color:"textPrimary"},r.a.createElement("b",null,e.review))),secondary:r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{component:"span",variant:"body2",className:t.inline,color:"textPrimary"},r.a.createElement("b",null,"Time")," : ",new Date(e.createdAt).toLocaleString()," ",r.a.createElement("br",null)))})),r.a.createElement(En.a,{variant:"inset",component:"li"}))})):r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{component:"span",variant:"body2",className:t.inline,color:"textPrimary"},r.a.createElement("b",null,"No Review Yet!!")))))})),Ua=Object(k.a)((function(e){return Object(j.a)({container:{padding:15}})})),Pa=function(e){var t=e.employee,n=e.phoneNumberShow,a=e.openPop,i=e.closeAlert,o=r.a.useState("paper"),c=Object(m.a)(o,2),l=c[0],u=c[1],p=r.a.useContext(s.a),f=r.a.useState([]),b=Object(m.a)(f,2),g=b[0],v=b[1],h=Ua(),E=r.a.useState(),y=Object(m.a)(E,2),O=y[0],k=y[1];r.a.useEffect((function(){var e=function(){var e=Object(T.a)(I.a.mark((function e(){var a,r,i,o,c,s,l;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.a.graphql(Object(M.i)(se,{id:t}));case 2:if(!(a=e.sent).data.getUser){e.next=16;break}if(r=a.data.getUser,i=JSON.parse(r.address),k({id:r.id,avatar:"",address:"",aboutme:i.aboutme,phoneNumber:i.phoneNumber,username:n?"".concat(i.firstName," ").concat(i.lastName):"".concat(i.firstName),usertype:r.usertype}),!i.pictures){e.next=13;break}return o=JSON.parse(i.pictures),e.next=11,Object(bn.getImages)(o);case 11:c=e.sent,v(c);case 13:r.rating&&(s=JSON.parse(r.rating),U(parseFloat(s.rating))),l=r.reviews.items,x(l);case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();p.userId&&e()}),[p.userId]);var j=r.a.useState([]),w=Object(m.a)(j,2),C=w[0],x=w[1],S=r.a.useState(0),N=Object(m.a)(S,2),_=N[0],U=N[1];r.a.useEffect((function(){a&&u("paper")}),[a]);var P=function(){i(!1)},A=r.a.useRef(null);return r.a.useEffect((function(){if(a){var e=A.current;null!==e&&e.focus()}}),[a]),O?r.a.createElement(da.a,{open:a,onClose:P,scroll:l,"aria-labelledby":"scroll-dialog-title","aria-describedby":"scroll-dialog-description"},r.a.createElement(bn.DialogTitle,{id:"scroll-dialog-title",onClose:P},"Employee"===O.usertype?"Service Provider Details":"Customer Details"),r.a.createElement("div",{className:h.container},r.a.createElement(d.a,{container:!0,spacing:1},r.a.createElement(d.a,{item:!0,xs:12,sm:6},r.a.createElement($t.a,{disabled:!0,required:!0,id:"username",name:"username",label:"UserName",fullWidth:!0,defaultValue:O.username,autoComplete:"username"})),r.a.createElement(d.a,{item:!0,xs:12,sm:6},r.a.createElement($t.a,{disabled:!0,required:!0,multiline:!0,rows:"2",id:"aboutme",name:"aboutme",label:"About Me",fullWidth:!0,defaultValue:O.aboutme,autoComplete:"aboutme"})),n?r.a.createElement(d.a,{item:!0,xs:12,sm:6},r.a.createElement($t.a,{disabled:!0,required:!0,id:"phoneNumber",name:"phoneNumber",label:"Phone Number",fullWidth:!0,defaultValue:O.phoneNumber,autoComplete:"phoneNumber"})):null),r.a.createElement(Ia.b,null,r.a.createElement("ul",{className:"images"},g.map((function(e,t){return r.a.createElement("li",{key:t},r.a.createElement(Ia.a,{src:e,alt:"mountains"}))})))),r.a.createElement(_a,{rating:_,name:O.username,reviews:C}))):null},Aa=n(310),Da=n.n(Aa),Ra=Object(k.a)((function(e){return Object(j.a)({container:{padding:15}})})),Ba=function(e){var t=e.execptedPrice,n=e.user,a=e.openPop,i=e.id,o=e.closeAlert,c=r.a.useState("paper"),s=Object(m.a)(c,2),l=s[0],u=s[1],p=Ra(),f=r.a.useState(""),b=Object(m.a)(f,2),g=b[0],v=b[1],h=r.a.useState(""),E=Object(m.a)(h,2),y=E[0],O=E[1];r.a.useEffect((function(){var e=(t?JSON.parse(t):[]).filter((function(e){return e.serviceProvider===i}));v(e.length>0?e[0].price:""),console.log("execptedPrice",t)}),[t,i]),r.a.useEffect((function(){a&&u("paper")}),[a]);var k=function(){if(console.log("handleClose",y),y.length>0){var e=[];if(g.length>0){var a=JSON.parse(t);a.forEach((function(e,t){e.serviceProvider===i&&(a[t].price=y)})),console.log("bidExperts",a),o(!0,JSON.stringify(a),!1)}else{var r=JSON.parse(n.address);if(t&&t.length>1){var c=JSON.parse(t);c.push({serviceProvider:i,price:y,username:null===n||void 0===n?void 0:n.username,email:r.email,phoneNumber:r.phoneNumber}),console.log("bidExperts",c),o(!0,JSON.stringify(c),!0)}else e.push({serviceProvider:i,price:y,username:null===n||void 0===n?void 0:n.username,email:r.email,phoneNumber:r.phoneNumber}),console.log("bidExperts",e),o(!0,JSON.stringify(e),!0)}}else o(!1,"",!1)},j=r.a.useRef(null);return r.a.useEffect((function(){if(a){var e=j.current;null!==e&&e.focus()}}),[a]),r.a.createElement(da.a,{open:a,onClose:k,scroll:l,"aria-labelledby":"scroll-dialog-title","aria-describedby":"scroll-dialog-description"},r.a.createElement(bn.DialogTitle,{id:"scroll-dialog-title",onClose:k},"Service Provider Details"),r.a.createElement("div",{className:p.container},r.a.createElement(d.a,{container:!0,spacing:1},g&&g.length>0?r.a.createElement(d.a,{item:!0,xs:12},r.a.createElement($t.a,{disabled:!0,required:!0,id:"price",name:"price",label:"old price",fullWidth:!0,defaultValue:g,autoComplete:"old price",InputProps:{startAdornment:r.a.createElement(Ut.a,{position:"start"},"$")}})):null,r.a.createElement(d.a,{item:!0,xs:12},r.a.createElement($t.a,{required:!0,id:"newprice",name:"newprice",label:g&&g.length>0?"Latest price":"Enter your Bid amount",fullWidth:!0,value:y,onChange:function(e){var t=e.target.value,n=/^\d{1,8}(?:\.\d{1,4})?$/.test(t);(""===e.target.value||t.endsWith(".")||n)&&O(t)},autoComplete:"Bid Amount",InputProps:{startAdornment:r.a.createElement(Ut.a,{position:"start"},"$")}})))),r.a.createElement(pa.a,null,r.a.createElement(Ct.a,{onClick:function(){o(!1,"",!1)},variant:"contained",color:"secondary"},"Cancel"),r.a.createElement(Ct.a,{onClick:k,variant:"contained",color:"primary",autoFocus:!0},"Bid")))},La=n(912),Ja=Object(k.a)((function(e){return Object(j.a)({root:{width:"100%",backgroundColor:e.palette.background.paper},inline:{display:"inline"},subHeader:{color:"rgba(0, 0, 0, 0.98)",fontSize:18,fontWeight:900},button:{width:20,marginTop:15,padding:5,margin:e.spacing(1)},rating:{marginLeft:15},buttonCart:{marginLeft:5,marginTop:15,width:10},buttonGird:{width:90},date:{display:"block",boxShadow:"rgba(50, 50, 93, 0.14902) 0px 1px 3px,rgba(0, 0, 0, 0.0196078) 0px 1px 0px",margin:"10px 0 5px 0",padding:"10px 14px",fontFamily:"Roboto,sans-serif",fontWeight:400,fontSize:16,lineHeight:1.43},cartLabel:{width:10,marginBottom:8,marginLeft:5},biditemslist:{paddingLeft:1,paddingRight:1},biditemsIcon:{minWidth:1,marginRight:8,marginTop:4},backdrop:{position:"absolute",zIndex:2e3,top:0,left:0,bottom:0,right:0,color:"#fff"}})})),$a=function(e){var t=e.data,n=e.user,a=e.openPop,i=e.close,o=e.setIsEmployee,c=r.a.useState("paper"),l=Object(m.a)(c,2),p=l[0],f=l[1],b=r.a.useContext(s.a),g=r.a.useState(!0),v=Object(m.a)(g,2),h=v[0],E=v[1],y=Object(u.g)(),O=Ja();r.a.useEffect((function(){a&&f("paper")}),[a]);var k=function(e){var t=e.target,n=t.name,a=t.value;D(Object(sn.a)({},A,Object(nn.a)({},n,a)))};r.a.useEffect((function(){if(t.id&&(D(t),t.execptedPrice)){var e=JSON.parse(t.execptedPrice).sort((function(e,t){return e.price>t.price?1:-1}));x(e)}_(t.empClosedComment)}),[t]);var j=r.a.useState([]),w=Object(m.a)(j,2),C=w[0],x=w[1],S=r.a.useState(""),N=Object(m.a)(S,2),_=(N[0],N[1]),U=r.a.useState({content:"",price:"",title:"",ticketType:"",source:"",destination:"",time:"",county:"",category:""}),P=Object(m.a)(U,2),A=P[0],D=P[1],R=r.a.useState(""),B=Object(m.a)(R,2),L=B[0],J=B[1],$=r.a.useCallback((function(e){J(e)}),[]),q=r.a.useState(""),W=Object(m.a)(q,2),z=W[0],H=W[1];r.a.useEffect((function(){b&&b.userId&&function(){var e=Object(T.a)(I.a.mark((function e(){var n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n=ma(b.userId,t))&&H(n.price);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[b.userId]);var Y=function(){var e=Object(T.a)(I.a.mark((function e(){var n,a,r,c,s,l,u,m;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=b.userId,!o){e.next=16;break}return a=b.user.attributes.phone_number,r=b.user.attributes.email,e.next=6,M.a.graphql(Object(M.i)(Ue,{input:{id:Object(qn.uuid)(),ticketID:t.id,userID:n}}));case 6:return c=e.sent,s=JSON.stringify({email:r,phoneNumber:a,userticketid:c.data.createUserTicket.id}),e.next=10,M.a.graphql(Object(M.i)(Re,{id:t.id,ticketEmployeeId:n,ticketEmployeeInfo:s,time:t.time,ticketFilter:t.ticketFilter}));case 10:l=e.sent,console.log("accept ticket by employee",l),i(!0,Object(sn.a)({},t,{status:"assinged",ticketEmployeeId:n}),"assinged"),M.b.record({name:"serviceProviderAccepted",attributes:{ticketID:t.id,ticketEmployeeId:n}}),e.next=27;break;case 16:if(!h){e.next=20;break}E(!1),e.next=27;break;case 20:if(0!=h){e.next=27;break}return e.next=23,M.a.graphql(Object(M.i)(De,{input:{id:t.id,price:A.price,time:A.time,title:A.title,content:A.content,county:A.county,destination:null!==(u=A.destination)&&void 0!==u?u:"sfsfsf",source:null!==(m=A.source)&&void 0!==m?m:"sfsfsf",ticketFilter:t.ticketFilter}}));case 23:e.sent,console.log("update ticke4t info",Object(sn.a)({},t,{},A)),i(!0,Object(sn.a)({},t,{},A),"ticketupdated"),M.b.record({name:"customerUpdatedTicket",attributes:{ticketID:t.id,price:A.price}});case 27:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),V=function(){var e=Object(T.a)(I.a.mark((function e(n){var a,r;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.a.graphql(Object(M.i)(Ue,{input:{id:Object(qn.uuid)(),ticketID:t.id,userID:n.serviceProvider}}));case 2:return a=e.sent,n.userticketid=a.data.createUserTicket.id,e.next=6,M.a.graphql(Object(M.i)(Re,{id:t.id,price:n.price,ticketEmployeeId:n.serviceProvider,ticketEmployeeInfo:JSON.stringify(n),time:t.time,ticketFilter:t.ticketFilter}));case 6:r=e.sent,console.log("accept ticket by user",r),i(!0,Object(sn.a)({},t,{status:"assinged",ticketEmployeeId:n.serviceProvider}),"assinged"),M.b.record({name:"acceptBid",attributes:{ticketID:t.id,price:n.price,ticketEmployeeId:n.serviceProvider}});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),G=function(){i(!1,t,"")},K=r.a.useRef(null);r.a.useEffect((function(){if(a){var e=K.current;null!==e&&e.focus()}}),[a]);var Z=r.a.useState(!1),X=Object(m.a)(Z,2),Q=X[0],ee=X[1],te=r.a.useState(""),ne=Object(m.a)(te,2),ae=ne[0],re=ne[1],ie=r.a.useState(!1),oe=Object(m.a)(ie,2),ce=oe[0],se=oe[1],le=function(){var e=Object(T.a)(I.a.mark((function e(n,a){var r,o,c,s,l,u,m,d,p,f;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(se(!0),ee(!1),!0!==n){e.next=44;break}if("unassign"!==ae){e.next=22;break}if(!t.ticketEmployeeId||!t.ticketEmployeeInfo){e.next=11;break}if(r=JSON.parse(t.ticketEmployeeInfo),console.log("unassign,",r),!r.userticketid){e.next=11;break}return console.log("unassign,",r.userticketid),e.next=11,M.a.graphql(Object(M.i)(We,{id:r.userticketid}));case 11:return o={id:t.id,status:"open",ticketEmployeeId:null,ticketEmployeeInfo:null,time:t.time,ticketFilter:t.ticketFilter},c="","Bid"===t.ticketType&&t.execptedPrice&&(s=JSON.parse(t.execptedPrice),l=s.filter((function(e){return e.serviceProvider!==b.userId})),c=JSON.stringify(l),o.execptedPrice=c),e.next=16,M.a.graphql(Object(M.i)(De,{input:o}));case 16:u=e.sent,console.log("unassign close",u),i(!0,Object(sn.a)({},t,{},A,{status:"open",ticketEmployeeId:"",ticketEmployeeInfo:"",execptedPrice:c}),"unassign"),M.b.record({name:"unassign",attributes:{ticketID:t.id}}),e.next=42;break;case 22:return m={id:t.id,status:ae,time:t.time,ticketFilter:t.ticketFilter},"Added Review"===ae?m={id:t.id,userClosedComment:null===a||void 0===a?void 0:a.comments,userClosedTime:(new Date).toUTCString(),time:t.time,ticketFilter:t.ticketFilter}:"completed"===ae&&(m=Object(sn.a)({},m,{empClosedComment:null===a||void 0===a?void 0:a.comments,empClosedTime:(new Date).toUTCString()})),e.next=26,M.a.graphql(Object(M.i)(De,{input:m}));case 26:if(e.sent,"completed"!==ae&&"Added Review"!==ae){e.next=40;break}if("completed"!==ae){e.next=33;break}return e.next=31,Dn(t.ticketUserId,t.price);case 31:d=e.sent,console.log("payment completed",d);case 33:p="completed"===ae?t.ticketUserId:t.ticketEmployeeId,Ve(p,null===a||void 0===a?void 0:a.rating),f={id:Object(qn.uuid)(),userId:p,review:null===a||void 0===a?void 0:a.review,ticketId:t.id,createdAt:(new Date).toUTCString()},M.a.graphql(Object(M.i)(Me,{input:f})),i(!0,Object(sn.a)({},t,{},A,{status:"completed"}),ae),e.next=41;break;case 40:i(!0,Object(sn.a)({},t,{},A,{status:ae}),ae);case 41:M.b.record({name:"closedJob"===ae?"closedJob":"completedJob",attributes:{ticketID:t.id,status:ae}});case 42:e.next=45;break;case 44:ee(!1);case 45:se(!1);case 46:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ue=r.a.useState(!1),me=Object(m.a)(ue,2),de=me[0],pe=me[1],fe=function(){var e=Object(T.a)(I.a.mark((function e(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:pe(!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),be=r.a.useState(!1),ge=Object(m.a)(be,2),ve=ge[0],he=ge[1],Ee=r.a.useState(""),ye=Object(m.a)(Ee,2),Oe=ye[0],ke=ye[1],je=function(){var e=Object(T.a)(I.a.mark((function e(){var n,a,r;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=b.userId,a=n===t.ticketUserId?t.ticketEmployeeId:t.ticketUserId,e.next=4,Ye(n,a,o);case 4:r=e.sent,console.log("conv",r),y.push({pathname:"/chat",state:{conversation:r,user:n}});case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),we=r.a.useState(!1),Ce=Object(m.a)(we,2),xe=Ce[0],Se=Ce[1],Ne=function(){Se(!0)},Ie=function(){var e=Object(T.a)(I.a.mark((function e(n,a,r){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Se(!1),!0!==n){e.next=7;break}return console.log("execptedPrice",a),e.next=5,M.a.graphql(Object(M.i)(De,{input:{id:t.id,execptedPrice:a,time:t.time,ticketFilter:t.ticketFilter}}));case 5:M.b.record({name:r?"newBid":"updatedBid",attributes:{ticketID:t.id,userID:b.userId}}),i(!0,Object(sn.a)({},t,{execptedPrice:a,status:"open"}),"bidadded");case 7:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement(da.a,{open:a,fullScreen:!0,onClose:G,scroll:p,"aria-labelledby":"scroll-dialog-title","aria-describedby":"scroll-dialog-description"},r.a.createElement(ba.a,{id:"scroll-dialog-title",onClose:G},"Job Details"),r.a.createElement(fa.a,{dividers:"paper"===p},r.a.createElement(d.a,{container:!0,spacing:1},r.a.createElement(d.a,{item:!0,xs:12,sm:6},r.a.createElement($t.a,{disabled:h,required:!0,id:"title",name:"title",label:"Title",fullWidth:!0,onChange:k,value:A.title,autoComplete:"title"})),r.a.createElement(d.a,{item:!0,xs:12,sm:6},r.a.createElement($t.a,{disabled:h,required:!0,id:"ticketType",name:"ticketType",label:"JobType",fullWidth:!0,value:A.ticketType,autoComplete:"price"})),r.a.createElement(d.a,{item:!0,xs:12,sm:6},r.a.createElement($t.a,{disabled:h,required:!0,id:"price",name:"price",label:"Price",fullWidth:!0,onChange:k,value:A.price,autoComplete:"price"})),r.a.createElement(d.a,{item:!0,xs:12,sm:6},r.a.createElement($t.a,{disabled:!0,required:!0,id:"category",name:"category",label:"Category",fullWidth:!0,onChange:k,value:A.category,autoComplete:"category"})),r.a.createElement(d.a,{item:!0,xs:12,sm:6},0==h?r.a.createElement(mn,{input:t.source,label:"Source",googleAddressReturn:function(e){var t=dn(e);D(Object(sn.a)({},A,{source:t.formatted_address}))}}):r.a.createElement("span",null,r.a.createElement($t.a,{label:"Source",name:"source",fullWidth:!0,disabled:!0,defaultValue:t.source}),r.a.createElement("a",{target:"_blank",href:"http://maps.google.com/?daddr=".concat(t.source)},"Get Directions "))),r.a.createElement(d.a,{item:!0,xs:12,sm:6},0==h?r.a.createElement(mn,{input:t.destination,label:"Destination",googleAddressReturn:function(e){var t=dn(e);D(Object(sn.a)({},A,{destination:t.formatted_address,county:t.county}))}}):r.a.createElement("span",null,r.a.createElement($t.a,{label:"Destination",name:"destination",fullWidth:!0,disabled:!0,defaultValue:t.destination}),r.a.createElement("a",{target:"_blank",href:"http://maps.google.com/?daddr=".concat(t.destination)},"Get Directions "))),0==h?r.a.createElement(d.a,{item:!0,xs:12},r.a.createElement("label",null,"Time:"),r.a.createElement(On.a,{selected:Date.parse(A.time),onChange:function(e){console.log("handleTimeChange",e),D(Object(sn.a)({},A,Object(nn.a)({},"time",e)))},showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:15,timeCaption:"time",minTime:Object(zn.default)(Object(Hn.default)(new Date,0),7),maxTime:Object(zn.default)(Object(Hn.default)(new Date,30),22),minDate:new Date,maxDate:Object(Yn.default)(new Date,30),placeholderText:"Click to select a date",dateFormat:"MMMM d, yyyy h:mm aa",className:O.date,popperClassName:"some-custom-class",popperPlacement:"top-end",popperModifiers:{offset:{enabled:!0,offset:"5px, 10px"},preventOverflow:{enabled:!0,escapeWithReference:!1,boundariesElement:"viewport"}}})):r.a.createElement(d.a,{item:!0,xs:12},r.a.createElement($t.a,{label:"Time",name:"time",fullWidth:!0,disabled:!0,defaultValue:new Date(A.time).toLocaleString()})),r.a.createElement(d.a,{item:!0,xs:12},r.a.createElement($t.a,{disabled:h,multiline:!0,rows:"4",required:!0,id:"content",name:"content",label:"Content",fullWidth:!0,onChange:k,value:A.content,autoComplete:"content"})),z&&o?r.a.createElement(d.a,{item:!0,xs:12,sm:6},r.a.createElement($t.a,{disabled:!0,required:!0,id:"bidAmount",name:"bidAmount",label:"Bid Amount",fullWidth:!0,value:z,autoComplete:"Enter Bid Amount"})):null,r.a.createElement(d.a,{item:!0,xs:12,container:!0,direction:"row"},o||t.ticketEmployeeId?r.a.createElement(ka.a,{icon:r.a.createElement(wa.a,null),label:o?"Customer Details":"Expert Info",clickable:!0,color:"primary",onClick:function(){ke(o?t.ticketUserId:t.ticketEmployeeId),he(!0)},deleteIcon:r.a.createElement(xa.a,null)}):null,o||t.ticketEmployeeId?r.a.createElement("div",null,r.a.createElement(ka.a,{icon:r.a.createElement(wa.a,null),label:"Start Chat",clickable:!0,color:"primary",onClick:je,deleteIcon:r.a.createElement(Da.a,null)})):null,t.ownerUploadImages&&JSON.parse(t.ownerUploadImages).length>0?r.a.createElement(ka.a,{label:"See Attachments",clickable:!0,color:"primary",onClick:fe,deleteIcon:r.a.createElement(Na.a,null)}):null),"open"==t.status&&0==o&&"Bid"===t.ticketType?r.a.createElement(Zn.a,{className:O.root,component:"nav","aria-labelledby":"nested-list-subheader",subheader:r.a.createElement(ea.a,{className:O.subHeader,component:"div",id:"nested-list-subheader"},"Bids")},C.length>0?C.map((function(e){return r.a.createElement("div",{key:e.serviceProvider},r.a.createElement(Xn.a,{className:O.biditemslist,key:e.serviceProvider,alignItems:"flex-start"},r.a.createElement(La.a,{className:O.biditemsIcon,onClick:function(t){return n=e.serviceProvider,ke(n),void he(!0);var n}},r.a.createElement(F.a,null)),r.a.createElement(Qn.a,{primary:"Name: ".concat(e.username,",  Price: ").concat(e.price," ")}),r.a.createElement(d.a,{className:O.buttonGird,container:!0,direction:"row",justify:"flex-end",alignItems:"flex-end"},r.a.createElement(Ct.a,{size:"small",color:"primary",variant:"contained",onClick:function(){return V(e)}},"Accept"))),r.a.createElement(En.a,{variant:"inset",component:"li"}))})):r.a.createElement("div",null,"No Bids")):null,r.a.createElement(d.a,{container:!0,direction:"row",justify:"flex-end",alignItems:"center"}))),"closed"===t.status||"completed"===t.status?r.a.createElement(pa.a,null,!1!==o||t.userClosedComment?null:r.a.createElement(Ct.a,{variant:"contained",color:"primary",onClick:function(){re("Added Review"),ee(!0)}},"Add Review"),"  "):r.a.createElement(pa.a,null,!1===o?r.a.createElement(Ct.a,{variant:"contained",onClick:function(){re("closed"),ee(!0)}},"Cancel Job"):null,o&&"assinged"===t.status?r.a.createElement(Ct.a,{variant:"contained",onClick:function(){re("unassign"),ee(!0)},color:"secondary"},"Unassign"):null,o&&"assinged"===t.status?r.a.createElement(Ct.a,{variant:"contained",onClick:function(){re("completed"),ee(!0)},color:"primary"},"Complete Job"):null,"open"===t.status&&!0===o&&"Bid"===t.ticketType?r.a.createElement(Ct.a,{onClick:function(e){Ne()},variant:"contained",color:"primary"},"Bid"):null,"open"===t.status&&1==o&&"Bid"!==t.ticketType?r.a.createElement(Ct.a,{onClick:Y,variant:"contained",color:"primary"},"Accept"):null,"open"===t.status&&!1===o?r.a.createElement(Ct.a,{onClick:Y,variant:"contained",color:"primary"},0==h?"Update":"Edit"):null,"assinged"===t.status&&!1===o?r.a.createElement(Ct.a,{onClick:Y,variant:"contained",color:"primary"},"Edit"):null),r.a.createElement(In.a,{className:O.backdrop,open:ce},r.a.createElement(Tn.a,{color:"inherit"}))),Q?r.a.createElement(ya,{type:ae,openPop:Q,closeAlert:le}):null,de?r.a.createElement(Oa.a,{inputimages:t.ownerUploadImages,openPop:de,closeAlert:function(e){pe(!1)}}):null,ve?r.a.createElement(Pa,{phoneNumberShow:"open"!=t.status,employee:Oe,openPop:ve,closeAlert:function(e){he(!1)}}):null,xe?r.a.createElement(Ba,{user:n,id:b.userId,execptedPrice:t.execptedPrice,openPop:xe,closeAlert:Ie}):null,r.a.createElement(wt,{variant:"error",message:L,setMessage:function(e){return $(e)}}))},Fa=n(914),qa=n(311),Wa=n.n(qa),Ma=n(913),za=Object(k.a)((function(e){return{root:function(t){return{width:"100%",maxWidth:window.screen.width>700?600:window.screen.width-25,backgroundColor:e.palette.background.paper}},subHeader:{color:"rgba(0, 0, 0, 0.98)",fontSize:18,fontWeight:900,paddingLeft:0,paddingRight:0},inline:{display:"inline"},button:{width:20,marginTop:15,padding:5,margin:e.spacing(1)},rating:{marginLeft:15},paper:Object(nn.a)({padding:e.spacing(2),boxShadow:window.screen.width>700?"":"unset"},e.breakpoints.up(600+2*e.spacing(3)),{marginTop:e.spacing(6),marginBottom:e.spacing(6),padding:e.spacing(3)}),layout:Object(nn.a)({width:window.screen.width>700?600:window.screen.width-25},e.breakpoints.up(600+2*e.spacing(2)),{width:600,marginLeft:"auto",marginRight:"auto"}),buttonCart:{marginLeft:5,marginTop:15,width:10},buttonGird:{width:90},list:{paddingLeft:0,paddingRight:0},cartLabel:{fontWeight:900,backgroundColor:"rgba(0, 0, 0, 0.18)",width:50,marginBottom:8,marginTop:8,marginLeft:5,borderRadius:5,paddingLeft:5,color:"black !important"},absolute:{position:"fixed",zIndex:100,bottom:e.spacing(9),right:e.spacing(4)},fab:{margin:e.spacing(2)},chipTop:{marginTop:10}}}));function Ha(){var e={width:Object(Ma.a)("(min-width:600px)")?600:window.screen.width-50},t=za(e),n=r.a.useContext(s.a),i=r.a.useState([]),o=Object(m.a)(i,2),c=o[0],l=o[1],p=r.a.useState([]),f=Object(m.a)(p,2),b=f[0],g=f[1],v=r.a.useState([]),h=Object(m.a)(v,2),E=h[0],O=h[1],k=r.a.useState([]),j=Object(m.a)(k,2),w=j[0],C=j[1],x=r.a.useState([]),S=Object(m.a)(x,2),N=S[0],_=S[1],U=r.a.useState(!1),P=Object(m.a)(U,2),A=(P[0],P[1]),D=Object(u.g)(),R=function(e){return e.reduce((function(e,t){return e.find((function(e){return e.id===t.id}))?Object(Kn.a)(e):[].concat(Object(Kn.a)(e),[t])}),[])};Object(a.useEffect)((function(){window.scrollTo(0,0)}),[]);var B=function(e){var t=R(JSON.parse(JSON.stringify(e))).sort((function(e,t){return new Date(e.time).getTime()-new Date(t.time).getTime()}));_(t)},L=function(e){var t=R(JSON.parse(JSON.stringify(e))).sort((function(e,t){return e.price>t.price?-1:1}));l(t)},J=function(e){var t=R(JSON.parse(JSON.stringify(e))).sort((function(e,t){return new Date(e.time).getTime()-new Date(t.time).getTime()}));g(t)},$=function(e){var t=R(JSON.parse(JSON.stringify(e))).sort((function(e,t){return new Date(e.time).getTime()-new Date(t.time).getTime()}));C(t)},F=function(e){var t=R(JSON.parse(JSON.stringify(e))).sort((function(e,t){return new Date(e.time).getTime()-new Date(t.time).getTime()}));O(t)};Object(a.useEffect)((function(){n&&n.userId&&A(!0)}),[n.userId]);var q=function(e){console.log("button click",e),Z(e),Y(!0)},W=r.a.useState(!1),z=Object(m.a)(W,2),H=z[0],Y=z[1],V=r.a.useState({}),G=Object(m.a)(V,2),K=G[0],Z=G[1],X=r.a.useState(!1),Q=Object(m.a)(X,2),ee=Q[0],te=Q[1],ne=r.a.useReducer((function(e,t){switch(t.type){case"ADDNEWJOB":var a=t.errand;c.push(a);var r=JSON.parse(JSON.stringify(c));return L(r),e;case"EXPERTUPDATE":var i=t.errand;if("open"==i.status)if("Bid"===i.ticketType){console.log("bidJob",w);var o=ma(n.userId,i),s=!1;if(o&&w.forEach((function(e,t){e.id===i.id&&(w[t]=i,s=!0)})),s){console.log("updated",w);var l=JSON.parse(JSON.stringify(w));$(l)}else{var u=w.filter((function(e){return e.id!==i.id}));$(u),c.push(i);var m=JSON.parse(JSON.stringify(c));L(m)}}else{console.log("updated",c);var d=!1;c.forEach((function(e,t){e.id===i.id&&(c[t]=i,d=!0)})),!1===d&&c.push(i);var p=JSON.parse(JSON.stringify(c));L(p)}else if("Bid"===i.ticketType){if("completed"==i.status)return e;if(i.ticketEmployeeId===n.userId){u=w.filter((function(e){return e.id!==i.id}));$(u),b.push(i),J(b)}else{u=w.filter((function(e){return e.id!==i.id}));$(u)}if("assinged"==i.status){u=c.filter((function(e){return e.id!==i.id}));L(u)}}else{u=c.filter((function(e){return e.id!==i.id}));L(u)}return e;case"USERUPDATE":var f=t.errand;if("closed"!==f.status&&"completed"!==f.status){for(var g=0;g<b.length;g++)if(b[g].id===f.id&&b[g].status){b[g]=f;var v=JSON.parse(JSON.stringify(b));return J(v),e}}else if("closed"===f.status){u=b.filter((function(e){return e.id!==f.id}));J(JSON.parse(JSON.stringify(u))),E.push(f),F(JSON.parse(JSON.stringify(E)))}else{console.log("userupdatedcomplete ",f);u=b.filter((function(e){return e.id!==f.id}));if(J(JSON.parse(JSON.stringify(u))),f.userClosedComment){E.push(f),console.log("usercomplete ",u,E),F(JSON.parse(JSON.stringify(E)));var h=N.filter((function(e){return e.id!==f.id}));B(JSON.parse(JSON.stringify(h)))}else N.push(f),B(JSON.parse(JSON.stringify(N)))}return e;default:return e}}),{errand:""}),ae=Object(m.a)(ne,2),re=(ae[0],ae[1]),ie=r.a.useState(),ce=Object(m.a)(ie,2),se=ce[0],le=ce[1],me=Object(a.useState)(""),de=Object(m.a)(me,2),pe=de[0],fe=de[1],be=Object(a.useCallback)((function(e){fe(e)}),[]);return Object(a.useEffect)((function(){var e=n.userId;if(e){var t=n.user.attributes["custom:account_type"];!function(){var n=Object(T.a)(I.a.mark((function n(){var a,r,i,o,c,s,l,u,m,d,p,f,b,g,v,h,E,y,O,k;return I.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("Customer"===t){n.next=29;break}return te(!0),n.next=4,M.a.graphql(Object(M.i)(oe,{id:e}));case 4:if(r=n.sent,console.log("acceptedJobs",r),!r.data.getUser){n.next=11;break}i=r.data.getUser,le(i),n.next=13;break;case 11:return fe("Before you can accept or bid on jobs, you need to create a profile. Click on the profile button at the top right corner of the page to create a profile."),n.abrupt("return");case 13:if(r.data.getUser&&r.data.getUser.tickets.items.length>0&&(o=r.data.getUser.tickets.items,c=o.map((function(e){return e.ticket})),s=c.filter((function(t){return"Bid"!==t.ticketType||("Bid"===t.ticketType&&"open"===t.status||"Bid"===t.ticketType&&("assinged"===t.status||"completed"===t.status)&&t.ticketEmployeeId===e)})),console.log("acceptedJobs",s),l=s.filter((function(e){return"closed"!==e.status&&"completed"!==e.status})),u=s.filter((function(e){return"closed"===e.status||"completed"===e.status})),m=l.filter((function(e){return e.ticketEmployeeId&&"Bid"!==e.ticketType||"Bid"===e.ticketType&&"assinged"===e.status})),d=l.filter((function(e){return"Bid"===e.ticketType&&"open"===e.status})),console.log("bidedfiltered",d),$(d),J(m),console.log("open setCompletedJob  ",u),F(u)),!(null===(a=i)||void 0===a?void 0:a.active)){n.next=26;break}return p=JSON.parse(i.skills).map((function(e){return e.value})),f=p.map((function(e){var t="".concat(i.county,"_").concat(e);return M.a.graphql(Object(M.i)(ca,{ticketFilter:t})).subscribe({next:function(e){var t=e.value.data.onCreateTicket;console.log("onCreateTicket",t),re({type:"ADDNEWJOB",errand:t})}}),M.a.graphql(Object(M.i)(sa,{ticketFilter:t})).subscribe({next:function(e){var t=e.value.data.onUpdatedTicket;console.log("onUpdatedTicket",t),re({type:"EXPERTUPDATE",errand:t})}}),M.a.graphql(Object(M.i)(ue,{status:"open",ticketFilter:t}))})),n.next=19,Promise.all(f);case 19:b=n.sent,console.log("commentData",b),g=null===b||void 0===b?void 0:b.map((function(e){var t,n,a,r;return(null===e||void 0===e||null===(t=e.data)||void 0===t||null===(n=t.jobsByStatus)||void 0===n?void 0:n.items.length)>0?null===e||void 0===e||null===(a=e.data)||void 0===a||null===(r=a.jobsByStatus)||void 0===r?void 0:r.items:[]})).reduce((function(e,t){return e.concat(t)}),[]),console.log("commeticketsntData",g),g.length>0&&(m=g.filter((function(t){return"Bid"!==t.ticketType||(!ua(e,t)||(w.push(t),!1))})),$(w),console.log("acceptedJobs",m),L(m)),n.next=27;break;case 26:fe("Your background check is still pending. We will notify you once your background check is complete.");case 27:n.next=35;break;case 29:return n.next=31,M.a.graphql(Object(M.i)(oe,{id:e}));case 31:v=n.sent,console.log("fetchDate",v),v.data.getUser&&(h=v.data.getUser,le(h)),v.data.getUser&&v.data.getUser.tickets.items.length>0&&(E=v.data.getUser.tickets.items,y=E.map((function(e){return e.ticket})),console.log("openErrands",y),l=y.filter((function(e){return"closed"!==e.status&&"completed"!==e.status})),u=y.filter((function(e){return"closed"===e.status||"completed"===e.status})),O=u.filter((function(e){return e.userClosedComment&&e.userClosedComment.length>1})),k=u.filter((function(e){return!(e.userClosedComment&&e.userClosedComment.length>1)})),J(l),B(k),F(O),M.a.graphql(Object(M.i)(la,{ticketUserId:e})).subscribe({next:function(e){var t=e.value.data.onUpdatedTicketByUser;console.log("onUpdatedTicket",t),re({type:"USERUPDATE",errand:t})}}));case 35:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}()()}}),[n.userId]),n&&n.userId?r.a.createElement(Nn,{title:"Ticket List",header:"Home"},r.a.createElement("main",{className:t.layout},r.a.createElement(an.a,{className:t.paper},r.a.createElement(d.a,{container:!0,direction:"column"},ee?r.a.createElement(Zn.a,{component:"nav","aria-labelledby":"nested-list-subheader",subheader:r.a.createElement(ea.a,{className:t.subHeader,component:"div",id:"nested-list-subheader"},"Open Jobs"),className:t.root},c.length>0?c.map((function(e){return r.a.createElement("div",{key:e.id},r.a.createElement(Xn.a,{className:t.list,key:e.id,alignItems:"flex-start",onClick:function(){return q(e)}},r.a.createElement(Qn.a,{primary:e.title,secondary:r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{component:"span",variant:"body2",className:t.inline,color:"textPrimary"},r.a.createElement("b",null,"Time")," : ",new Date(e.time).toLocaleString()," ",r.a.createElement("br",null),"   ",r.a.createElement("b",null,"Address")," : ",e.source))}),r.a.createElement(d.a,{className:t.buttonGird,container:!0,direction:"row",justify:"flex-end",alignItems:"flex-end"},r.a.createElement(ka.a,{avatar:r.a.createElement(Rt.a,null,"$"),size:"small",color:"secondary",label:"".concat(e.price)}),r.a.createElement(ka.a,{size:"small",color:"primary",label:e.status,className:t.chipTop}))),r.a.createElement(En.a,{variant:"inset",component:"li"}))})):r.a.createElement("div",null,"No Jobs")):null,r.a.createElement(En.a,null),ee?r.a.createElement("span",null,r.a.createElement(Zn.a,{component:"nav","aria-labelledby":"nested-list-subheader",subheader:r.a.createElement(ea.a,{className:t.subHeader,component:"div",id:"nested-list-subheader"},"Bidded Job"),className:t.root},w.length>0?w.map((function(e){return r.a.createElement("div",{key:e.id},r.a.createElement(Xn.a,{key:e.id,className:t.list,alignItems:"flex-start",onClick:function(){return q(e)}},r.a.createElement(Qn.a,{primary:e.title,secondary:r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{component:"span",variant:"body2",className:t.inline,color:"textPrimary"},"Time : ",new Date(e.time).toLocaleString(),"   ",r.a.createElement("br",null),"   Address : ",e.source))}),r.a.createElement(d.a,{className:t.buttonGird,container:!0,direction:"row",justify:"flex-end",alignItems:"flex-end"},r.a.createElement(ka.a,{avatar:r.a.createElement(Rt.a,null,"$"),size:"small",color:"secondary",label:"".concat(e.price)}),r.a.createElement(ka.a,{size:"small",color:"primary",label:e.status,className:t.chipTop}))),r.a.createElement(En.a,{variant:"inset",component:"li"}))})):r.a.createElement("div",null,"No Jobs")),r.a.createElement(En.a,null)," "):null,r.a.createElement(Zn.a,{component:"nav","aria-labelledby":"nested-list-subheader",subheader:r.a.createElement(ea.a,{className:t.subHeader,component:"div",id:"nested-list-subheader"},ee?"Accepted Jobs ":"Created Jobs"),className:t.root},b.length>0?b.map((function(e){return r.a.createElement("div",{key:e.id},r.a.createElement(Xn.a,{className:t.list,key:e.id,alignItems:"flex-start",onClick:function(){return q(e)}},r.a.createElement(Qn.a,{primary:e.title,secondary:r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{component:"span",variant:"body2",className:t.inline,color:"textPrimary"},r.a.createElement("b",null,"Time")," : ",new Date(e.time).toLocaleString()," ",r.a.createElement("br",null),"   ",r.a.createElement("b",null,"Address")," : ",e.source))}),r.a.createElement(d.a,{className:t.buttonGird,container:!0,direction:"row",justify:"flex-end",alignItems:"flex-end"},r.a.createElement(ka.a,{avatar:r.a.createElement(Rt.a,null,"$"),size:"small",color:"secondary",label:"".concat(e.price)}),r.a.createElement(ka.a,{size:"small",color:"primary",label:e.status,className:t.chipTop}))),r.a.createElement(En.a,{variant:"inset",component:"li"}))})):r.a.createElement("div",null,"No Jobs")),r.a.createElement(En.a,null),ee?null:r.a.createElement("span",null," ",r.a.createElement(Zn.a,{component:"nav","aria-labelledby":"nested-list-subheader",subheader:r.a.createElement(ea.a,{className:t.subHeader,component:"div",id:"nested-list-subheader"},"Pending Job Reviews"),className:t.root},N.length>0?N.map((function(e){return r.a.createElement("div",{key:e.id},r.a.createElement(Xn.a,{key:e.id,className:t.list,alignItems:"flex-start",onClick:function(){return q(e)}},r.a.createElement(Qn.a,{primary:e.title,secondary:r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{component:"span",variant:"body2",className:t.inline,color:"textPrimary"},"Time : ",new Date(e.time).toLocaleString(),"  ",r.a.createElement("br",null),"   Address : ",e.source))}),r.a.createElement(d.a,{className:t.buttonGird,container:!0,direction:"row",justify:"flex-end",alignItems:"flex-end"},r.a.createElement(ka.a,{avatar:r.a.createElement(Rt.a,null,"$"),size:"small",color:"secondary",label:"".concat(e.price)}),r.a.createElement(ka.a,{size:"small",color:"primary",label:"Review Pending",className:t.chipTop,deleteIcon:(e.status,r.a.createElement(dt.a,null))}))),r.a.createElement(En.a,{variant:"inset",component:"li"}))})):r.a.createElement("div",null,"No Jobs")),r.a.createElement(En.a,null)," "),r.a.createElement(Zn.a,{component:"nav","aria-labelledby":"nested-list-subheader",subheader:r.a.createElement(ea.a,{className:t.subHeader,component:"div",id:"nested-list-subheader"},ee?"Completed Jobs ":"Closed Jobs"),className:t.root},E.length>0?E.map((function(e){return r.a.createElement("div",{key:e.id},r.a.createElement(Xn.a,{key:e.id,className:t.list,alignItems:"flex-start",onClick:function(){return q(e)}},r.a.createElement(Qn.a,{primary:e.title,secondary:r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{component:"span",variant:"body2",className:t.inline,color:"textPrimary"},"Time : ",new Date(e.time).toLocaleString(),"  ",r.a.createElement("br",null),"   Address : ",e.source))}),r.a.createElement(d.a,{className:t.buttonGird,container:!0,direction:"row",justify:"flex-end",alignItems:"flex-end"},r.a.createElement(ka.a,{avatar:r.a.createElement(Rt.a,null,"$"),size:"small",color:"secondary",label:"".concat(e.price)}),r.a.createElement(ka.a,{size:"small",color:"primary",label:e.status,className:t.chipTop,deleteIcon:(e.status,r.a.createElement(dt.a,null))}))),r.a.createElement(En.a,{variant:"inset",component:"li"}))})):r.a.createElement("div",null,"No Jobs")),H?r.a.createElement($a,{user:se,setIsEmployee:ee,data:K,openPop:H,close:function(e,t,n){if(Y(!1),e)if(ee){if("assinged"==t.status){var a=c.filter((function(e){return e.id!==t.id}));b.push(t),J(b),L(a)}else if("unassign"===n){a=b.filter((function(e){return e.id!==t.id}));J(a),c.push(t),L(c)}else if("open"==t.status){if("Bid"===t.ticketType&&t.execptedPrice){var r=c.filter((function(e){return e.id!==t.id})),i=!1;w.forEach((function(e,n){e.id===t.id&&(w[n]=t,i=!0)})),!1===i&&w.push(t),$(w),L(r)}}else if("completed"==t.status){a=b.filter((function(e){return e.id!==t.id}));J(a),console.log("empcompletedJob",t),E.push(t),console.log("empcompletedJob",a,E),F(JSON.parse(JSON.stringify(E)))}}else if("closed"===t.status){a=b.filter((function(e){return e.id!==t.id}));E.push(t),F(E),J(a)}else if("completed"===t.status){if(t.userClosedComment){E.push(t),F(JSON.parse(JSON.stringify(E)));var o=N.filter((function(e){return e.id!==t.id}));B(JSON.parse(JSON.stringify(o)))}}else console.log("updateTicket",t),b.forEach((function(e,n){e.id===t.id&&(b[n]=t)})),J(b)}}):null),0==ee?r.a.createElement(Xe.a,{title:"Add","aria-label":"add"},r.a.createElement(Fa.a,{color:"primary",className:t.absolute},r.a.createElement(Wa.a,{onClick:function(){console.log("createJob",se),(null===se||void 0===se?void 0:se.cardInfo)?(console.log("createJob"),D.push("/createticket")):fe("You need to update your profile and payment details before you can request for services")}}))):null,r.a.createElement(wt,{variant:"error",message:pe,setMessage:function(e){return be(e)}})))):r.a.createElement(qt,null)}var Ya=n(917),Va=(n(286),n(106)),Ga=n(108),Ka=n(109),Za=n(110),Xa=n(111),Qa=n(312),er=n.n(Qa),tr=n(313),nr=n.n(tr),ar=n(928),rr=n(915),ir=n(916),or=n(42),cr=n(835);var sr=function(e){Object(Xa.a)(n,e);var t=Object(Za.a)(n);function n(e,a){return Object(Ga.a)(this,n),t.call(this,e,a)}return Object(Ka.a)(n,[{key:"render",value:function(){return r.a.createElement(cr.a,{className:"chatApp__convTitle_modifed_root",disableTypography:!0},r.a.createElement(er.a,{className:"chatApp__convTitle_modifed_btn",color:"primary",onClick:this.props.backButton}),r.a.createElement(y.a,{className:"chatApp__convTitle_modifed_title",variant:"h6"},this.props.owner?this.props.owner:"Chat"))}}]),n}(r.a.Component),lr=null,ur=function(e){Object(Xa.a)(n,e);var t=Object(Za.a)(n);function n(e){var a;return Object(Ga.a)(this,n),(a=t.call(this,e)).messageInput=void 0,a.ownerInput=void 0,a.ownerAvatarInput=void 0,a.handleFileChange=function(e){var t=e.target.files[0];if(console.log(t),t&&t.type.startsWith("image/")){var n=new FileReader,r=Object(Va.a)(a);n.onload=function(e){r.setState({popoverOpen:!0,filePreviewSrc:this.result})},n.readAsDataURL(t),a.setState({file:t}),lr=t}},a.close=function(){a.setState({file:void 0,popoverOpen:!1}),lr=null},a.state={popoverOpen:!1,content:"",messageInput:"",file:"",filePreviewSrc:""},a.handleSendMessage=a.handleSendMessage.bind(Object(Va.a)(a)),a}return Object(Ka.a)(n,[{key:"handleSendMessage",value:function(e){e.preventDefault(),(lr||this.messageInput.value.length>0)&&(this.props.sendMessageLoading(this.messageInput.value),this.messageInput.value="",this.close())}},{key:"render",value:function(){var e=this,t=this.state.filePreviewSrc,n="btn btn-block "+(this.state.file?"btn-success":"btn-primary"),a=this.props.isLoading?"chatApp__convButton--loading":"",i=r.a.createElement(nr.a,{color:"action"});return r.a.createElement("form",{onSubmit:this.handleSendMessage},r.a.createElement("div",{className:"chatApp__convButtonLeft"+a},r.a.createElement("input",{accept:"image/*",className:"zeroWidth",id:"icon-button-file",onChange:this.handleFileChange,type:"file"}),r.a.createElement("label",{className:"fileUploadIcon",htmlFor:"icon-button-file"},r.a.createElement(_.a,{color:"primary",className:"fileUploadIcon","aria-label":"upload picture",component:"span"},r.a.createElement(Na.a,{className:"fileUploadIcon"}))),r.a.createElement("label",{className:n,id:"Popover1"},r.a.createElement("i",{className:"fas fa-camera"})),r.a.createElement(ar.a,{placement:"top-start",isOpen:this.state.popoverOpen,target:"Popover1"},r.a.createElement(rr.a,null,r.a.createElement("span",null,"Preview"),r.a.createElement("button",{type:"button",className:"close","aria-label":"Close",onClick:this.close},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement(ir.a,null,r.a.createElement("img",{alt:"previw",className:"msg-image",src:t})))),r.a.createElement("input",{type:"hidden",ref:function(t){return e.ownerInput=t},value:this.props.owner}),r.a.createElement("input",{type:"hidden",ref:function(t){return e.ownerAvatarInput=t},value:this.props.ownerAvatar}),r.a.createElement("input",{type:"text",ref:function(t){return e.messageInput=t},className:"chatApp__convInput",placeholder:"Text message"}),r.a.createElement("div",{className:"chatApp__convButton "+a,onClick:this.handleSendMessage},i))}}]),n}(r.a.Component),mr=function(e){Object(Xa.a)(n,e);var t=Object(Za.a)(n);function n(e){return Object(Ga.a)(this,n),t.call(this,e)}return Object(Ka.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"chatApp__convTimeline"},this.props.messages.slice(0).reverse().map((function(t){return r.a.createElement(dr,{key:t.id,owner:e.props.owner,sender:t.owner,ownerAvatar:e.props.ownerAvatar,senderAvatar:e.props.senderAvatar,message:t.content,file:t.file})})))}}]),n}(r.a.Component),dr=function(e){Object(Xa.a)(n,e);var t=Object(Za.a)(n);function n(e){var a;return Object(Ga.a)(this,n),(a=t.call(this,e)).senderAvatar=a.props.owner==a.props.sender?a.props.ownerAvatar:a.props.senderAvatar,a.state={fileUrl:null,key:""},a}return Object(Ka.a)(n,[{key:"componentDidUpdate",value:function(e,t){var n=e.file,a=this.props.file,r=null;a&&(r=JSON.parse(a)),n&&null===n.key&&r&&r.key&&this.checkFileUrl()}},{key:"componentDidMount",value:function(){var e=Object(T.a)(I.a.mark((function e(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.checkFileUrl();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"checkFileUrl",value:function(){var e=Object(T.a)(I.a.mark((function e(){var t,n,a,r,i;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this.props.file)){e.next=14;break}if(n=JSON.parse(t),a=Array.isArray(n)?n[0]:n,!(r=M.d.getItem(a.key))){e.next=8;break}return this.setState({key:a.key}),e.abrupt("return",this.setState({fileUrl:r}));case 8:return e.next=10,Object(bn.getImages)([a]);case 10:r=e.sent,i=new Date((new Date).getTime()+84e4).getTime(),M.d.setItem(a.key,r,{expires:i}),this.setState({fileUrl:r});case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.owner==this.props.sender?"highlight msg-right":"highlight",t=this.props.owner==this.props.sender?"chatApp__convMessageItem--right":"chatApp__convMessageItem--left";return r.a.createElement("div",{className:"chatApp__convMessageItem "+t+" clearfix"},r.a.createElement("img",{src:this.senderAvatar,alt:this.props.sender,className:"chatApp__convMessageAvatar"}),this.props.file&&this.state.fileUrl?r.a.createElement("div",{className:e},r.a.createElement("img",{alt:"awesome",src:this.state.fileUrl,className:"msg-image",id:"ImgPopover"})):r.a.createElement("div",{className:"chatApp__convMessageValue",dangerouslySetInnerHTML:{__html:this.props.message}}))}}]),n}(r.a.Component),pr=function(e){Object(Xa.a)(n,e);var t=Object(Za.a)(n);function n(e){var a;Object(Ga.a)(this,n),(a=t.call(this,e)).state={isLoading:!1},a.sendMessageLoading=a.sendMessageLoading.bind(Object(Va.a)(a));return a}return Object(Ka.a)(n,[{key:"sendMessageLoading",value:function(e){var t=this;this.setState({isLoading:!0}),this.props.sendMessage(e),setTimeout((function(){t.setState({isLoading:!1})}),400)}},{key:"render",value:function(){return r.a.createElement("div",{className:"chatApp__conv",style:window.screen.width>700?{width:600,marginTop:30,marginBottom:30}:{width:window.screen.width-25}},r.a.createElement(an.a,{elevation:3,style:{padding:10}},r.a.createElement(sr,{owner:this.props.senderUsername,backButton:this.props.backButton}),r.a.createElement(mr,{owner:this.props.owner,ownerAvatar:this.props.ownerAvatar,messages:this.props.messages,senderAvatar:this.props.senderAvatar}),r.a.createElement("div",{className:"chatApp__convSendMessage clearfix"},r.a.createElement(ur,{isLoading:this.state.isLoading,owner:this.props.owner,ownerAvatar:this.props.ownerAvatar,sendMessage:this.props.sendMessage,sendMessageLoading:this.sendMessageLoading,senderUsername:this.props.senderUsername}))))}}]),n}(r.a.Component),fr=function(e){Object(Xa.a)(n,e);var t=Object(Za.a)(n);function n(e){var a;return Object(Ga.a)(this,n),(a=t.call(this,e)).sendMessage=function(){var e=Object(T.a)(I.a.mark((function e(t){var n,r,i;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==t.trim().length||lr){e.next=2;break}return e.abrupt("return");case 2:if(!lr){e.next=11;break}return e.next=5,Object(bn.handleImageUpload)([lr]);case 5:r=e.sent,console.log("file for s3",r),i=JSON.stringify(r),n={id:Object(or.v4)(),isSent:"false",chatbot:!1,file:i,messageConversationId:a.props.selectedConv.convId,receiver:a.props.selectedConv.sender},e.next=12;break;case 11:n={id:Object(or.v4)(),isSent:"false",chatbot:!1,content:t,messageConversationId:a.props.selectedConv.convId,receiver:a.props.selectedConv.sender};case 12:return e.prev=12,e.next=15,M.a.graphql(Object(M.i)(Be,{input:n}));case 15:e.sent,e.next=20;break;case 18:e.prev=18,e.t0=e.catch(12);case 20:case"end":return e.stop()}}),e,null,[[12,18]])})));return function(t){return e.apply(this,arguments)}}(),a.state={messages:[{id:1,sender:"Shun",senderAvatar:"https://i.pravatar.cc/150?img=32",message:"Hello \ud83d\udc4b"}]},a.sendMessage=a.sendMessage.bind(Object(Va.a)(a)),a}return Object(Ka.a)(n,[{key:"componentDidMount",value:function(){var e=Object(T.a)(I.a.mark((function e(){var t,n,a,r,i,o,c=this;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.selectedConv.convId,n=this.props.selectedConv.owner,e.prev=2,e.next=5,M.a.graphql(Object(M.i)(le,{id:t}));case 5:a=e.sent,console.log("messages",a),a.data.getConvo.messages?(r=a.data.getConvo.messages.items,this.setState({messages:r.reverse()}),i=r.filter((function(e){return"false"===e.isSent&&c.props.selectedConv.sender===e.owner})).map((function(e){return e.id})),console.log("messagesids",i),i.length>0&&(o={response:!0,body:{ids:i},headers:{}},M.a.post("chatreplyapi","/chatreplyfun",o))):this.setState({messages:[]}),M.a.graphql(Object(M.i)(oa,{messageConversationId:t})).subscribe({next:function(e){var t=e.value.data.onCreateMessage,a=c.state.messages;a.push(t),c.setState({messages:a}),console.log("newMessage",t),n!==t.owner&&(console.log("updatedflag",t,n),M.a.graphql(Object(M.i)(qe,{id:t.id})))}}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),console.log("error: ",e.t0);case 14:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=[],t=[],n=this.state.messages,a=this.sendMessage;e[0]={name:"de1aa72c-0ab0-472b-9eed-2e88693321ee",avatar:"https://i.pravatar.cc/150?img=32"};var i=this.props.selectedConv,o=this.props.backButton;return Object.keys(e).map((function(c){e[c];t.push(r.a.createElement(pr,{key:c,owner:i.owner,ownerAvatar:i.ownerAvatar,senderAvatar:i.senderAvatar,sendMessage:a,messages:n,backButton:o,senderUsername:i.senderUsername}))})),r.a.createElement("div",null,window.screen.width>700?r.a.createElement("div",{style:window.screen.width>700?{maxWidth:600,marginLeft:"auto",marginRight:"auto"}:{maxWidth:window.screen.width},className:"chatApp__room"},r.a.createElement("main",{style:window.screen.width>700?{maxWidth:600,marginLeft:"auto",marginRight:"auto"}:{maxWidth:window.screen.width}},r.a.createElement(an.a,{elevation:3},t))):r.a.createElement("div",{style:window.screen.width>700?{maxWidth:600}:{maxWidth:window.screen.width},className:"chatApp__room"},t))}}]),n}(r.a.Component),br=n(918),gr=n(314),vr=n.n(gr),hr=Object(k.a)((function(e){return Object(j.a)({root:{width:"100%",backgroundColor:e.palette.background.paper},inline:{display:"inline"},button:{width:20,marginTop:15,padding:5,margin:e.spacing(1)},rating:{marginLeft:15},buttonCart:{marginLeft:5,marginTop:15,width:10},buttonGird:{width:90},cartLabel:{width:10,marginBottom:8,marginLeft:5}})}));function Er(){var e=hr(),t=r.a.useState([]),n=Object(m.a)(t,2),i=n[0],o=n[1],c=Object(a.useContext)(s.a),l=r.a.useState(!1),p=Object(m.a)(l,2),f=p[0],b=p[1],g=r.a.useState({convId:"",senderUsername:"",owner:"",ownerAvatar:"",senderAvatar:"",sender:""}),v=Object(m.a)(g,2),h=v[0],E=v[1],y=r.a.useState([]),O=Object(m.a)(y,2),k=O[0],j=O[1],w=r.a.useState({}),C=Object(m.a)(w,2),x=C[0],S=C[1],N=Object(u.h)();Object(a.useEffect)((function(){window.scrollTo(0,0)}),[]),Object(a.useEffect)((function(){N&&function(){var e=Object(T.a)(I.a.mark((function e(t){var n,a,r,i,o,c,s,l,u,m,d;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.state||!t.state.conversation){e.next=18;break}return console.log(t),i=t.state.conversation.conversation,o=t.state.user,c=i.associated.items.filter((function(e){return e.convoLinkUserId==o||e.convoLinkEmployeeId==o})),s=i.associated.items.filter((function(e){return!(e.convoLinkUserId==o||e.convoLinkEmployeeId==o)})),console.log("selected file",c,s),l=JSON.parse(c[0].user.avatar),e.next=10,Object(bn.getCacheImage)(l[0]);case 10:return u=e.sent,S(u),m=JSON.parse(s[0].user.avatar),e.next=15,Object(bn.getCacheImage)(m[0]);case 15:d=e.sent,E({convId:i.id,owner:o,ownerAvatar:u,senderAvatar:d,senderUsername:null!==(n=null===(a=s[0].user)||void 0===a?void 0:a.username)&&void 0!==n?n:null===(r=s[0].employee)||void 0===r?void 0:r.username,sender:s[0].convoLinkUserId}),b(!0);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(N)}),[N]),Object(a.useEffect)((function(){var e=function(){var e=Object(T.a)(I.a.mark((function e(){var t;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.delegateYield(I.a.mark((function e(){var n,a,r,s,l,u,m,d,p,f,b,g,v,h,E,y,O,k;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.userId,c.user.attributes["custom:account_type"],e.next=4,M.a.graphql(Object(M.i)(de,{id:n}));case 4:if(a=e.sent,console.log("commentData",a),!(a.data.getUser&&a.data.getUser.userConversations.items.length>0)){e.next=29;break}return r=a.data.getUser.userConversations.items,s=JSON.parse(a.data.getUser.avatar),e.next=11,Object(bn.getCacheImage)(s[0]);case 11:l=e.sent,S(l),t=0;case 14:if(!(t<r.length)){e.next=28;break}return v=r[t],h=v.conversation.associated.items.filter((function(e){return!(e.convoLinkUserId===n||e.convoLinkEmployeeId==n)})),console.log("otherUser",h),h&&h.length,E=null!==(u=null===(m=h[0].user)||void 0===m?void 0:m.avatar)&&void 0!==u?u:null===(d=h[0].employee)||void 0===d?void 0:d.avatar,e.next=22,Object(bn.getCacheImage)(JSON.parse(E)[0]);case 22:r[t].avatar=e.sent,r[t].username=null!==(p=null===(f=h[0].user)||void 0===f?void 0:f.username)&&void 0!==p?p:null===(b=h[0].employee)||void 0===b?void 0:b.username,r[t].receiver=null!==(g=h[0].convoLinkEmployeeId)&&void 0!==g?g:h[0].convoLinkUserId;case 25:t++,e.next=14;break;case 28:o(r);case 29:return e.next=31,M.a.graphql(Object(M.i)(me,{receiver:n,isSent:"false"}));case 31:(y=e.sent).data.messageByReceiver&&y.data.messageByReceiver.items.length>0&&(O=y.data.messageByReceiver.items,k=[],O.forEach((function(e){k.push(e.owner)})),console.log("commentschatsLinks",k,i),j(k));case 33:case"end":return e.stop()}}),e)}))(),"t0",2);case 2:e.next=7;break;case 4:e.prev=4,e.t1=e.catch(0),console.log("unable get conversation for users:",e.t1);case 7:case"end":return e.stop()}}),e,null,[[0,4]])})));return function(){return e.apply(this,arguments)}}();c.userId&&e()}),[c.userId]);return r.a.createElement("div",null,0==f?r.a.createElement(Nn,{title:"Travtail Serverless"},r.a.createElement(Zn.a,{className:e.root},i.length>0?i.map((function(e,t){return r.a.createElement("div",{key:e.id},r.a.createElement(Xn.a,{key:e.id,alignItems:"flex-start",dense:!0,button:!0,onClick:(n=e,function(){c.userId,E({convId:n.conversation.id,owner:c.userId,ownerAvatar:x,senderAvatar:n.avatar,senderUsername:n.username,sender:n.receiver}),b(!0)})},r.a.createElement(Ya.a,null,r.a.createElement(Rt.a,{alt:"Remy Sharp",src:e.avatar})),r.a.createElement(Qn.a,{primary:e.username}),r.a.createElement(br.a,null,r.a.createElement(_.a,{edge:"end","aria-label":"comments"},r.a.createElement(pe.a,{color:"secondary",overlap:"circle",badgeContent:" ",invisible:!k.includes(e.receiver)},r.a.createElement(vr.a,{color:"action"}))))),r.a.createElement(En.a,{variant:"inset",component:"li"}));var n})):r.a.createElement(d.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement("div",null,"No Message Available ")))):r.a.createElement("div",null,r.a.createElement(fr,{selectedConv:h,backButton:function(){var e=k.filter((function(e){return e!==h.sender}));j(e),b(!1)}})))}var yr=Object(k.a)((function(e){return{root:function(t){return{width:"100%",maxWidth:window.screen.width>700?600:window.screen.width-25,backgroundColor:e.palette.background.paper}},subHeader:{fontSize:"1rem",fontWeight:900,paddingLeft:0,paddingRight:0,color:"#3f51b5"},inline:{display:"inline"},button:{width:20,marginTop:15,padding:5,margin:e.spacing(1)},rating:{marginLeft:15},paper:Object(nn.a)({padding:e.spacing(2),boxShadow:window.screen.width>700?"":"unset"},e.breakpoints.up(600+2*e.spacing(3)),{marginTop:e.spacing(6),marginBottom:e.spacing(6),padding:e.spacing(3)}),layout:Object(nn.a)({width:window.screen.width>700?600:window.screen.width-25},e.breakpoints.up(600+2*e.spacing(2)),{width:600,marginLeft:"auto",marginRight:"auto"}),buttonCart:{marginLeft:5,marginTop:15,width:10},buttonGird:{width:90},list:{paddingLeft:0,paddingRight:0},cartLabel:{fontWeight:900,backgroundColor:"rgba(0, 0, 0, 0.18)",width:50,marginBottom:8,marginTop:8,marginLeft:5,borderRadius:5,paddingLeft:5,color:"black !important"},absolute:{position:"fixed",zIndex:100,bottom:e.spacing(9),right:e.spacing(4)},fab:{margin:e.spacing(2)},chipTop:{marginTop:10}}}));function Or(){var e={width:Object(Ma.a)("(min-width:600px)")?600:window.screen.width-50},t=yr(e),n=r.a.useContext(s.a),i=r.a.useState([]),o=Object(m.a)(i,2),c=o[0],l=o[1],u=r.a.useState(!1),d=Object(m.a)(u,2),p=(d[0],d[1]);Object(a.useEffect)((function(){window.scrollTo(0,0)}),[]),Object(a.useEffect)((function(){n&&n.userId&&(p(!0),function(){var e=Object(T.a)(I.a.mark((function e(){var t,a,r,i;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.a.graphql(Object(M.i)(ce,{id:n.userId}));case 2:t=e.sent,console.log("userReviews",t),t.data.getUser&&((a=t.data.getUser).rating&&(r=JSON.parse(a.rating),k(parseFloat(r.rating))),i=a.reviews.items,l(i));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()())}),[n.userId]);var f=Object(a.useState)(""),b=Object(m.a)(f,2),g=b[0],v=b[1],h=Object(a.useCallback)((function(e){v(e)}),[]),E=r.a.useState(0),y=Object(m.a)(E,2),O=y[0],k=y[1];return n&&n.userId?r.a.createElement(Nn,{title:"Ticket List",header:"Home"},r.a.createElement("main",{className:t.layout},r.a.createElement(an.a,{className:t.paper},r.a.createElement(_a,{rating:O,name:"Your",reviews:c}),r.a.createElement(wt,{variant:"error",message:g,setMessage:function(e){return h(e)}})))):r.a.createElement(qt,null)}var kr=n(30),jr=n.n(kr),wr=n(925),Cr=n(919),xr=n(920),Sr=n(921),Nr=Object(k.a)((function(e){return Object(j.a)({root:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden",backgroundColor:e.palette.background.paper},paper:Object(nn.a)({padding:e.spacing(2),boxShadow:window.screen.width>700?"":"unset"},e.breakpoints.up(600+2*e.spacing(3)),{marginTop:e.spacing(6),marginBottom:e.spacing(6),padding:e.spacing(3)}),layout:Object(nn.a)({width:window.screen.width>700?600:window.screen.width-25},e.breakpoints.up(600+2*e.spacing(2)),{width:600,marginLeft:"auto",marginRight:"auto"}),stepper:{padding:5},icon:{color:"rgba(255, 255, 255, 0.54)"}})})),Ir=[{id:"1",img:jr.a,title:"Image",author:"author"},{id:"2",img:jr.a,title:"Image",author:"author"},{id:"3",img:jr.a,title:"Image",author:"author"},{id:"4",img:jr.a,title:"Image",author:"author"}];function Tr(){var e=Nr(),t=function(e){return function(){console.log(e)}};return r.a.createElement(Cr.a,{className:e.stepper,cellHeight:125},r.a.createElement(xr.a,{key:"Subheader",cols:2,style:{height:"auto"}},r.a.createElement(ea.a,{component:"div"},"December")),Ir.map((function(n){return r.a.createElement(xr.a,{key:n.id,onClick:t(n)},r.a.createElement("img",{src:n.img,alt:n.title}),r.a.createElement(Sr.a,{title:n.title,actionIcon:r.a.createElement(_.a,{"aria-label":"info about ".concat(n.title),className:e.icon},r.a.createElement(ut.a,null))}))})))}var _r=n(938),Ur=n(923),Pr=n(922),Ar=n(315),Dr=n.n(Ar),Rr=[{id:"1",img:jr.a,title:"Personal Helper",author:"Personal Helper",items:[{id:"11",img:jr.a,title:"Personal Shopper",price:"30$",content:"1 hour is the minimum service duration. There are no refunds for jobs completed in less than 1 hour. <br/>The recommended price includes only labor (Lowering the recommended price may result in service providers not accepting your request or placing bids. You can change your price at any time before the job is accepted. You cannot lower the price after the job is accepted or a bid has been placed. You can negotiate pricing directly with the service provider). The service provider will inform you if materials are needed."},{id:"12",img:jr.a,title:"Run Errands",price:"30$",content:"1 hour is the minimum service duration. There are no refunds for jobs completed in less than 1 hour. The recommended price includes only labor (Lowering the recommended price may result in service providers not accepting your request or placing bids. You can change your price at any time before the job is accepted. You cannot lower the price after the job is accepted or a bid has been placed. You can negotiate pricing directly with the service provider). The service provider will inform you if materials are needed. "}]},{id:"2",img:jr.a,title:"Image",author:"author",items:[{id:"12",img:jr.a,title:"Personal Shopper",price:"30$",content:"1 hour is the minimum service duration. There are no refunds for jobs completed in less than 1 hour. The recommended price includes only labor (Lowering the recommended price may result in service providers not accepting your request or placing bids. You can change your price at any time before the job is accepted. You cannot lower the price after the job is accepted or a bid has been placed. You can negotiate pricing directly with the service provider). The service provider will inform you if materials are needed."},{id:"13",img:jr.a,title:"Run Errands",price:"30$",content:"1 hour is the minimum service duration. There are no refunds for jobs completed in less than 1 hour. The recommended price includes only labor (Lowering the recommended price may result in service providers not accepting your request or placing bids. You can change your price at any time before the job is accepted. You cannot lower the price after the job is accepted or a bid has been placed. You can negotiate pricing directly with the service provider). The service provider will inform you if materials are needed. "}]},{id:"3",img:jr.a,title:"Image",author:"author",items:[{id:"12",img:jr.a,title:"Personal Shopper",price:"30$",content:"1 hour is the minimum service duration. There are no refunds for jobs completed in less than 1 hour. The recommended price includes only labor (Lowering the recommended price may result in service providers not accepting your request or placing bids. You can change your price at any time before the job is accepted. You cannot lower the price after the job is accepted or a bid has been placed. You can negotiate pricing directly with the service provider). The service provider will inform you if materials are needed."},{id:"13",img:jr.a,title:"Run Errands",price:"30$",content:"1 hour is the minimum service duration. There are no refunds for jobs completed in less than 1 hour. The recommended price includes only labor (Lowering the recommended price may result in service providers not accepting your request or placing bids. You can change your price at any time before the job is accepted. You cannot lower the price after the job is accepted or a bid has been placed. You can negotiate pricing directly with the service provider). The service provider will inform you if materials are needed. "}]},{id:"4",img:jr.a,title:"Image",author:"author",items:[{id:"12",img:jr.a,title:"Personal Shopper",price:"30$",content:"1 hour is the minimum service duration. There are no refunds for jobs completed in less than 1 hour. The recommended price includes only labor (Lowering the recommended price may result in service providers not accepting your request or placing bids. You can change your price at any time before the job is accepted. You cannot lower the price after the job is accepted or a bid has been placed. You can negotiate pricing directly with the service provider). The service provider will inform you if materials are needed."},{id:"13",img:jr.a,title:"Run Errands",price:"30$",content:"1 hour is the minimum service duration. There are no refunds for jobs completed in less than 1 hour. The recommended price includes only labor (Lowering the recommended price may result in service providers not accepting your request or placing bids. You can change your price at any time before the job is accepted. You cannot lower the price after the job is accepted or a bid has been placed. You can negotiate pricing directly with the service provider). The service provider will inform you if materials are needed. "}]}],Br=n(924),Lr=Object(k.a)((function(e){return Object(j.a)({root:{width:"100%"},heading:{fontSize:e.typography.pxToRem(15),flexBasis:"33.33%",flexShrink:0},secondaryHeading:{fontSize:e.typography.pxToRem(15),color:e.palette.text.secondary}})})),Jr=function(e){var t=Lr(),n=r.a.useState(!1),a=Object(m.a)(n,2),i=a[0],o=a[1];return r.a.createElement("div",{className:t.root},Rr[0].items.length>0?Rr[0].items.map((function(e,n){return r.a.createElement(_r.a,{key:e.id,expanded:i===e.id,onChange:(a=e.id,function(e,t){o(!!t&&a)})},r.a.createElement(Pr.a,{expandIcon:r.a.createElement(Dr.a,null),"aria-controls":"panel1bh-content",id:"panel1bh-header"},r.a.createElement(y.a,{className:t.heading},e.title),r.a.createElement(y.a,{className:t.secondaryHeading},e.price)),r.a.createElement(Ur.a,null,r.a.createElement(y.a,null,e.content)),r.a.createElement(Br.a,null,"\\          ",r.a.createElement(Ct.a,{variant:"contained",size:"small",color:"primary"},"Select")));var a})):r.a.createElement("div",null))};var $r=Object(k.a)((function(e){return Object(j.a)({root:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden",backgroundColor:e.palette.background.paper,padding:0},gridList:{},paper:Object(nn.a)({padding:0,boxShadow:window.screen.width>700?"":"unset"},e.breakpoints.up(600+2*e.spacing(3)),{marginTop:e.spacing(6),marginBottom:e.spacing(6),padding:0}),layout:Object(nn.a)({width:window.screen.width>700?600:window.screen.width-25},e.breakpoints.up(600+2*e.spacing(2)),{width:600,marginLeft:"auto",marginRight:"auto"}),button:{marginTop:e.spacing(1),marginRight:e.spacing(1)},actionsContainer:{marginBottom:e.spacing(2)},resetContainer:{padding:e.spacing(3)},stepper:{padding:"10px 0px 0px 0px"},stepContent:{padding:0},icon:{color:"rgba(255, 255, 255, 0.54)"}})}));jr.a,jr.a,jr.a,jr.a,jr.a,jr.a;function Fr(){var e=$r(),t=r.a.useState(0),n=Object(m.a)(t,2),a=n[0],i=n[1],o=["Select Job Category","Create an ad group","Create an ad"],c=function(){i((function(e){return e+1}))},s=function(){i((function(e){return e-1}))};return r.a.createElement(Nn,{title:"Create Ticket",header:"Home"},r.a.createElement("main",{className:e.layout},r.a.createElement(an.a,{className:e.paper},r.a.createElement(rn.a,{className:e.stepper,activeStep:a,orientation:"vertical"},o.map((function(t,n){return r.a.createElement(on.a,{className:e.stepContent,key:t},r.a.createElement(cn.a,null,t),r.a.createElement(wr.a,{className:e.stepContent},function(e){switch(e){case 0:return r.a.createElement(Tr,null);case 1:return r.a.createElement(Jr,null);case 2:return r.a.createElement(Gn,null);default:return"Unknown step"}}(n),r.a.createElement("div",{className:e.actionsContainer},r.a.createElement("div",null,r.a.createElement(Ct.a,{disabled:0===a,onClick:s,className:e.button},"Back"),r.a.createElement(Ct.a,{variant:"contained",color:"primary",onClick:c,className:e.button},a===o.length-1?"Finish":"Next")))))}))),a===o.length&&r.a.createElement(an.a,{square:!0,elevation:0,className:e.resetContainer},r.a.createElement(y.a,null,"All steps completed - you're finished"),r.a.createElement(Ct.a,{onClick:function(){i(0)},className:e.button},"Reset")))))}var qr=function(){Object(u.g)();var e=r.a.useContext(s.a),t=function(t){var n=t.component,a=Object(l.a)(t,["component"]);return r.a.createElement(u.b,Object.assign({},a,{render:function(t){return e.userId?r.a.createElement(n,t):r.a.createElement(u.a,{to:"/auth"})}}))};function n(){}return"github"!==Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_SECRET_CODE&&(console.log=n,console.warn=n,console.error=n),r.a.createElement(u.d,null,r.a.createElement(u.b,{exact:!0,path:"/",component:Ha}),r.a.createElement(u.b,{path:"/auth",component:tn}),r.a.createElement(u.b,{path:"/create",component:Fr}),r.a.createElement(t,{path:"/chat",component:Er}),r.a.createElement(t,{path:"/review",component:Or}),r.a.createElement(t,{path:"/profile",component:Fn}),r.a.createElement(t,{path:"/createticket",component:Gn}),r.a.createElement(t,{path:"/ticketList",component:Ha}),"/>")};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Wr=n(135),Mr=JSON.parse(JSON.stringify(Wr.a));M.h.configure(Mr);var zr=r.a.createElement(c.a,{basename:""},r.a.createElement(s.b,null,r.a.createElement(qr,null)));o.a.render(zr,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[349,1,2]]]);